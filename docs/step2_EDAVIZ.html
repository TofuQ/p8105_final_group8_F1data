<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Formula 1 Fatal Events: Data Visualization Analysis (1950-2024)</title>

<script src="site_libs/header-attrs-2.29/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet" />
<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="site_libs/plotly-binding-4.11.0/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<link href="site_libs/crosstalk-1.2.2/css/crosstalk.min.css" rel="stylesheet" />
<script src="site_libs/crosstalk-1.2.2/js/crosstalk.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
<link href="site_libs/font-awesome-6.5.2/css/all.min.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; } /* Alert */
code span.an { color: #008000; } /* Annotation */
code span.at { } /* Attribute */
code span.bu { } /* BuiltIn */
code span.cf { color: #0000ff; } /* ControlFlow */
code span.ch { color: #008080; } /* Char */
code span.cn { color: #585cf6; } /* Constant */
code span.co { color: #4c886b; } /* Comment */
code span.cv { color: #008000; } /* CommentVar */
code span.do { color: #008000; } /* Documentation */
code span.dv { color: #0000cd; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cd; } /* Float */
code span.im { } /* Import */
code span.in { color: #008000; } /* Information */
code span.kw { color: #0000ff; } /* Keyword */
code span.op { color: #687687; } /* Operator */
code span.ot { color: #ff4000; } /* Other */
code span.pp { color: #ff4000; } /* Preprocessor */
code span.sc { color: #008080; } /* SpecialChar */
code span.ss { color: #008080; } /* SpecialString */
code span.st { color: #036a07; } /* String */
code span.va { } /* Variable */
code span.vs { color: #008080; } /* VerbatimString */
code span.wa { color: #008000; font-weight: bold; } /* Warning */

.sourceCode .row {
  width: 100%;
}
.sourceCode {
  overflow-x: auto;
}
.code-folding-btn {
  margin-right: -30px;
}
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<link rel="stylesheet" href="styles.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Formula 1 Fatal Events Analysis (1950-2024)</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="Proposal.html">Proposal</a>
</li>
<li>
  <a href="step1_dataPreprocess.html">Data Preparation</a>
</li>
<li>
  <a href="step2_EDAViz.html">Visualization</a>
</li>
<li>
  <a href="step3_inferStat.html">Statistical Analysis</a>
</li>
<li>
  <a href="step4_shiny.html">Interactive Explorer</a>
</li>
<li>
  <a href="discussion.html">Discussion</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/TofuQ/p8105_final_group8_F1data.git">
    <span class="fa fa-github"></span>
     
    GitHub
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Formula 1 Fatal Events: Data Visualization
Analysis (1950-2024)</h1>

</div>

<div id="TOC">
<ul>
<li><a href="#introduction" id="toc-introduction">1.
Introduction</a></li>
<li><a href="#temporal-trends-in-fatal-events"
id="toc-temporal-trends-in-fatal-events">2. Temporal Trends in Fatal
Events</a>
<ul>
<li><a href="#annual-driver-participation-and-fatal-events"
id="toc-annual-driver-participation-and-fatal-events">2.1 Annual Driver
Participation and Fatal Events</a></li>
<li><a href="#annual-races-and-fatal-event-occurrence"
id="toc-annual-races-and-fatal-event-occurrence">2.2 Annual Races and
Fatal Event Occurrence</a></li>
</ul></li>
<li><a href="#constructorteam-analysis"
id="toc-constructorteam-analysis">3. Constructor/Team Analysis</a>
<ul>
<li><a href="#distribution-of-fatal-events-by-constructor"
id="toc-distribution-of-fatal-events-by-constructor">3.1 Distribution of
Fatal Events by Constructor</a></li>
</ul></li>
<li><a href="#driver-nationality-analysis"
id="toc-driver-nationality-analysis">4. Driver Nationality Analysis</a>
<ul>
<li><a href="#driver-nationalities-and-fatality-rates"
id="toc-driver-nationalities-and-fatality-rates">4.1 Driver
Nationalities and Fatality Rates</a></li>
<li><a href="#nationality-data-table"
id="toc-nationality-data-table">4.2 Nationality Data Table</a></li>
</ul></li>
<li><a href="#circuit-analysis" id="toc-circuit-analysis">5. Circuit
Analysis</a>
<ul>
<li><a href="#global-map-of-formula-1-circuits-and-fatal-events"
id="toc-global-map-of-formula-1-circuits-and-fatal-events">5.1 Global
Map of Formula 1 Circuits and Fatal Events</a></li>
</ul></li>
</ul>
</div>

<div id="introduction" class="section level2">
<h2>1. Introduction</h2>
<p>This document presents a comprehensive visual exploration of fatal
events in Formula 1 racing from 1950 to 2024. Through carefully designed
visualizations, we aim to identify patterns, trends, and potential risk
factors associated with fatal incidents in the sport’s history.</p>
<p>Key questions we explore through visualization:</p>
<ul>
<li>How has the risk of fatal events changed over time?</li>
<li>Are certain drivers, nationalities, or teams associated with higher
fatality rates?</li>
<li>Which circuits or regions present higher safety risks?</li>
<li>What driver factors (age, experience) correlate with fatal
incidents?</li>
<li>How have safety improvements affected fatality rates over time?</li>
</ul>
</div>
<div id="temporal-trends-in-fatal-events" class="section level2">
<h2>2. Temporal Trends in Fatal Events</h2>
<div id="annual-driver-participation-and-fatal-events"
class="section level3">
<h3>2.1 Annual Driver Participation and Fatal Events</h3>
<p>Our first visualization examines the relationship between the number
of drivers participating each year and the occurrence of fatal
events.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="co"># Prepare annual driver and fatality data</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>annual_driver_data <span class="ot">&lt;-</span> dataOK <span class="sc">%&gt;%</span></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>    <span class="at">NumberDrivers =</span> <span class="fu">n_distinct</span>(driver.name),</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a>    <span class="at">NumberFatalEvent =</span> <span class="fu">sum</span>(driver.fatal <span class="sc">==</span> <span class="st">&#39;Death&#39;</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">factor</span>(year))</span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a><span class="co"># Create the visualization</span></span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a>annual_driver_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(annual_driver_data, <span class="fu">aes</span>(<span class="at">x =</span> year)) <span class="sc">+</span></span>
<span id="cb1-12"><a href="#cb1-12" tabindex="-1"></a>  <span class="co"># Bar chart - Number of drivers</span></span>
<span id="cb1-13"><a href="#cb1-13" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">y =</span> NumberDrivers, <span class="at">fill =</span> <span class="st">&quot;Number of Drivers&quot;</span>), <span class="at">stat =</span> <span class="st">&#39;identity&#39;</span>, <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb1-14"><a href="#cb1-14" tabindex="-1"></a>  <span class="co"># Points - Fatal events</span></span>
<span id="cb1-15"><a href="#cb1-15" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y =</span> NumberFatalEvent <span class="sc">*</span> <span class="dv">5</span>, <span class="at">color =</span> <span class="st">&quot;Fatal Events&quot;</span>), </span>
<span id="cb1-16"><a href="#cb1-16" tabindex="-1"></a>             <span class="at">data =</span> <span class="fu">filter</span>(annual_driver_data, NumberFatalEvent <span class="sc">&gt;</span> <span class="dv">0</span>), <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb1-17"><a href="#cb1-17" tabindex="-1"></a>  <span class="co"># Add labels for fatal events</span></span>
<span id="cb1-18"><a href="#cb1-18" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">y =</span> NumberFatalEvent <span class="sc">*</span> <span class="dv">5</span> <span class="sc">+</span> <span class="dv">5</span>, <span class="at">label =</span> NumberFatalEvent),</span>
<span id="cb1-19"><a href="#cb1-19" tabindex="-1"></a>            <span class="at">data =</span> <span class="fu">filter</span>(annual_driver_data, NumberFatalEvent <span class="sc">&gt;</span> <span class="dv">0</span>), </span>
<span id="cb1-20"><a href="#cb1-20" tabindex="-1"></a>            <span class="at">color =</span> <span class="st">&quot;darkred&quot;</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="at">vjust =</span> <span class="dv">0</span>) <span class="sc">+</span></span>
<span id="cb1-21"><a href="#cb1-21" tabindex="-1"></a>  <span class="co"># Add labels</span></span>
<span id="cb1-22"><a href="#cb1-22" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Annual Statistics of Drivers and Fatal Events&quot;</span>,</span>
<span id="cb1-23"><a href="#cb1-23" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;1950-2024 Formula 1 Championship&quot;</span>,</span>
<span id="cb1-24"><a href="#cb1-24" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Year&quot;</span>,</span>
<span id="cb1-25"><a href="#cb1-25" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Number of Drivers&quot;</span>) <span class="sc">+</span></span>
<span id="cb1-26"><a href="#cb1-26" tabindex="-1"></a>  <span class="co"># Set secondary y-axis for fatal events</span></span>
<span id="cb1-27"><a href="#cb1-27" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">sec.axis =</span> <span class="fu">sec_axis</span>(<span class="sc">~</span>.<span class="sc">/</span><span class="dv">5</span>, <span class="at">name =</span> <span class="st">&quot;Number of Fatal Events&quot;</span>)) <span class="sc">+</span></span>
<span id="cb1-28"><a href="#cb1-28" tabindex="-1"></a>  <span class="co"># Set colors</span></span>
<span id="cb1-29"><a href="#cb1-29" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;Number of Drivers&quot;</span> <span class="ot">=</span> <span class="st">&quot;#3a86ff&quot;</span>)) <span class="sc">+</span></span>
<span id="cb1-30"><a href="#cb1-30" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;Fatal Events&quot;</span> <span class="ot">=</span> <span class="st">&quot;#e63946&quot;</span>)) <span class="sc">+</span></span>
<span id="cb1-31"><a href="#cb1-31" tabindex="-1"></a>  <span class="co"># Optimize theme</span></span>
<span id="cb1-32"><a href="#cb1-32" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb1-33"><a href="#cb1-33" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb1-34"><a href="#cb1-34" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">14</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">margin =</span> <span class="fu">margin</span>(<span class="at">b =</span> <span class="dv">15</span>)),</span>
<span id="cb1-35"><a href="#cb1-35" tabindex="-1"></a>    <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb1-36"><a href="#cb1-36" tabindex="-1"></a>    <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>, <span class="at">margin =</span> <span class="fu">margin</span>(<span class="at">t =</span> <span class="dv">10</span>)),</span>
<span id="cb1-37"><a href="#cb1-37" tabindex="-1"></a>    <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>, <span class="at">margin =</span> <span class="fu">margin</span>(<span class="at">r =</span> <span class="dv">10</span>), <span class="at">color =</span> <span class="st">&quot;#3a86ff&quot;</span>),</span>
<span id="cb1-38"><a href="#cb1-38" tabindex="-1"></a>    <span class="at">axis.title.y.right =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>, <span class="at">margin =</span> <span class="fu">margin</span>(<span class="at">l =</span> <span class="dv">10</span>), <span class="at">color =</span> <span class="st">&quot;#e63946&quot;</span>),</span>
<span id="cb1-39"><a href="#cb1-39" tabindex="-1"></a>    <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>),</span>
<span id="cb1-40"><a href="#cb1-40" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>, <span class="at">hjust =</span> <span class="dv">1</span>),</span>
<span id="cb1-41"><a href="#cb1-41" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span>,</span>
<span id="cb1-42"><a href="#cb1-42" tabindex="-1"></a>    <span class="at">legend.title =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb1-43"><a href="#cb1-43" tabindex="-1"></a>    <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb1-44"><a href="#cb1-44" tabindex="-1"></a>    <span class="at">panel.grid.major.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb1-45"><a href="#cb1-45" tabindex="-1"></a>    <span class="at">panel.border =</span> <span class="fu">element_rect</span>(<span class="at">color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">fill =</span> <span class="cn">NA</span>, <span class="at">linewidth =</span> <span class="fl">0.5</span>),</span>
<span id="cb1-46"><a href="#cb1-46" tabindex="-1"></a>    <span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="dv">20</span>, <span class="dv">20</span>, <span class="dv">20</span>, <span class="dv">20</span>)</span>
<span id="cb1-47"><a href="#cb1-47" tabindex="-1"></a>  )</span>
<span id="cb1-48"><a href="#cb1-48" tabindex="-1"></a></span>
<span id="cb1-49"><a href="#cb1-49" tabindex="-1"></a><span class="co"># Display the plot</span></span>
<span id="cb1-50"><a href="#cb1-50" tabindex="-1"></a>annual_driver_plot</span></code></pre></div>
<p><img src="step2_EDAVIZ_files/figure-html/annual-drivers-fatal-events-1.png" width="960" /></p>
<p><strong>Key Insights:</strong></p>
<ul>
<li>Fatal events were more common in the early decades of Formula 1
(1950s-1970s), while becoming increasingly rare since the 1980s.</li>
<li>The number of participating drivers has generally increased over
time, indicating the sport’s growth despite safety challenges.</li>
<li>Several years in the modern era have seen zero fatal events,
suggesting effective safety improvements.</li>
</ul>
</div>
<div id="annual-races-and-fatal-event-occurrence"
class="section level3">
<h3>2.2 Annual Races and Fatal Event Occurrence</h3>
<p>This visualization examines the relationship between the number of
races held each year and whether any fatal events occurred during that
year.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="co"># Prepare annual race and fatality data</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>annual_race_data <span class="ot">&lt;-</span> dataOK <span class="sc">%&gt;%</span></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a>    <span class="at">NumberRaces =</span> <span class="fu">n_distinct</span>(Race),</span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a>    <span class="at">FatalEventOccur =</span> <span class="fu">any</span>(driver.fatal <span class="sc">==</span> <span class="st">&#39;Death&#39;</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">factor</span>(year))</span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a></span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a><span class="co"># Create the visualization</span></span>
<span id="cb2-11"><a href="#cb2-11" tabindex="-1"></a>annual_race_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(annual_race_data, <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> NumberRaces)) <span class="sc">+</span></span>
<span id="cb2-12"><a href="#cb2-12" tabindex="-1"></a>  <span class="co"># Add line connecting all points</span></span>
<span id="cb2-13"><a href="#cb2-13" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">&quot;#666666&quot;</span>, <span class="at">linewidth =</span> <span class="fl">0.8</span>, <span class="at">group =</span> <span class="st">&#39;a&#39;</span>) <span class="sc">+</span></span>
<span id="cb2-14"><a href="#cb2-14" tabindex="-1"></a>  <span class="co"># Add points with different shapes/colors based on fatal events</span></span>
<span id="cb2-15"><a href="#cb2-15" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">shape =</span> FatalEventOccur, <span class="at">color =</span> FatalEventOccur), <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb2-16"><a href="#cb2-16" tabindex="-1"></a>  <span class="co"># Add labels</span></span>
<span id="cb2-17"><a href="#cb2-17" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Annual Number of Races and Fatal Event Occurrence&quot;</span>,</span>
<span id="cb2-18"><a href="#cb2-18" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;1950-2024 Formula 1 Championship&quot;</span>,</span>
<span id="cb2-19"><a href="#cb2-19" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Year&quot;</span>,</span>
<span id="cb2-20"><a href="#cb2-20" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Number of Races&quot;</span>,</span>
<span id="cb2-21"><a href="#cb2-21" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">&quot;Fatal Event Occurred&quot;</span>,</span>
<span id="cb2-22"><a href="#cb2-22" tabindex="-1"></a>       <span class="at">shape =</span> <span class="st">&quot;Fatal Event Occurred&quot;</span>) <span class="sc">+</span></span>
<span id="cb2-23"><a href="#cb2-23" tabindex="-1"></a>  <span class="co"># Set custom colors for points</span></span>
<span id="cb2-24"><a href="#cb2-24" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;FALSE&quot;</span> <span class="ot">=</span> <span class="st">&quot;blue&quot;</span>, <span class="st">&quot;TRUE&quot;</span> <span class="ot">=</span> <span class="st">&quot;red&quot;</span>),</span>
<span id="cb2-25"><a href="#cb2-25" tabindex="-1"></a>                     <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;FALSE&quot;</span> <span class="ot">=</span> <span class="st">&quot;No&quot;</span>, <span class="st">&quot;TRUE&quot;</span> <span class="ot">=</span> <span class="st">&quot;Yes&quot;</span>)) <span class="sc">+</span></span>
<span id="cb2-26"><a href="#cb2-26" tabindex="-1"></a>  <span class="co"># Set custom shapes for points</span></span>
<span id="cb2-27"><a href="#cb2-27" tabindex="-1"></a>  <span class="fu">scale_shape_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;FALSE&quot;</span> <span class="ot">=</span> <span class="dv">16</span>, <span class="st">&quot;TRUE&quot;</span> <span class="ot">=</span> <span class="dv">18</span>),</span>
<span id="cb2-28"><a href="#cb2-28" tabindex="-1"></a>                     <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;FALSE&quot;</span> <span class="ot">=</span> <span class="st">&quot;No&quot;</span>, <span class="st">&quot;TRUE&quot;</span> <span class="ot">=</span> <span class="st">&quot;Yes&quot;</span>)) <span class="sc">+</span></span>
<span id="cb2-29"><a href="#cb2-29" tabindex="-1"></a>  <span class="co"># Enhanced theme</span></span>
<span id="cb2-30"><a href="#cb2-30" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb2-31"><a href="#cb2-31" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb2-32"><a href="#cb2-32" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">14</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">margin =</span> <span class="fu">margin</span>(<span class="at">b =</span> <span class="dv">15</span>)),</span>
<span id="cb2-33"><a href="#cb2-33" tabindex="-1"></a>    <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb2-34"><a href="#cb2-34" tabindex="-1"></a>    <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>, <span class="at">margin =</span> <span class="fu">margin</span>(<span class="at">t =</span> <span class="dv">10</span>)),</span>
<span id="cb2-35"><a href="#cb2-35" tabindex="-1"></a>    <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>, <span class="at">margin =</span> <span class="fu">margin</span>(<span class="at">r =</span> <span class="dv">10</span>)),</span>
<span id="cb2-36"><a href="#cb2-36" tabindex="-1"></a>    <span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">10</span>),</span>
<span id="cb2-37"><a href="#cb2-37" tabindex="-1"></a>    <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>, <span class="at">hjust =</span> <span class="dv">1</span>),</span>
<span id="cb2-38"><a href="#cb2-38" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span>,</span>
<span id="cb2-39"><a href="#cb2-39" tabindex="-1"></a>    <span class="at">legend.box =</span> <span class="st">&quot;horizontal&quot;</span>,</span>
<span id="cb2-40"><a href="#cb2-40" tabindex="-1"></a>    <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb2-41"><a href="#cb2-41" tabindex="-1"></a>    <span class="at">panel.grid.major.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb2-42"><a href="#cb2-42" tabindex="-1"></a>    <span class="at">panel.border =</span> <span class="fu">element_rect</span>(<span class="at">color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">fill =</span> <span class="cn">NA</span>, <span class="at">linewidth =</span> <span class="fl">0.5</span>),</span>
<span id="cb2-43"><a href="#cb2-43" tabindex="-1"></a>    <span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="dv">20</span>, <span class="dv">20</span>, <span class="dv">20</span>, <span class="dv">20</span>)</span>
<span id="cb2-44"><a href="#cb2-44" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb2-45"><a href="#cb2-45" tabindex="-1"></a>  <span class="co"># Add gridlines for better readability</span></span>
<span id="cb2-46"><a href="#cb2-46" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="fu">seq</span>(<span class="fu">min</span>(annual_race_data<span class="sc">$</span>NumberRaces), <span class="fu">max</span>(annual_race_data<span class="sc">$</span>NumberRaces), <span class="at">by =</span> <span class="dv">2</span>), </span>
<span id="cb2-47"><a href="#cb2-47" tabindex="-1"></a>             <span class="at">linetype =</span> <span class="st">&quot;dotted&quot;</span>, <span class="at">color =</span> <span class="st">&quot;grey&quot;</span>, <span class="at">linewidth =</span> <span class="fl">0.3</span>)</span>
<span id="cb2-48"><a href="#cb2-48" tabindex="-1"></a></span>
<span id="cb2-49"><a href="#cb2-49" tabindex="-1"></a><span class="co"># Display the plot</span></span>
<span id="cb2-50"><a href="#cb2-50" tabindex="-1"></a>annual_race_plot</span></code></pre></div>
<p><img src="step2_EDAVIZ_files/figure-html/annual-races-fatal-occurrence-1.png" width="960" /></p>
<p><strong>Key Insights:</strong></p>
<ul>
<li>The number of races per season has increased significantly over
time, especially since the 2000s.</li>
<li>There appears to be an inverse relationship between calendar
expansion (more races) and fatal event occurrence.</li>
<li>Recent decades have seen consistently improved safety despite the
increased number of race events.</li>
</ul>
</div>
</div>
<div id="constructorteam-analysis" class="section level2">
<h2>3. Constructor/Team Analysis</h2>
<div id="distribution-of-fatal-events-by-constructor"
class="section level3">
<h3>3.1 Distribution of Fatal Events by Constructor</h3>
<p>This pie chart visualizes how fatal events have been distributed
across different constructors (teams).</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="co"># Prepare constructor fatality data</span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>constructor_fatal_data <span class="ot">&lt;-</span> dataOK <span class="sc">%&gt;%</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>  <span class="fu">filter</span>(driver.fatal <span class="sc">==</span> <span class="st">&#39;Death&#39;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>  <span class="fu">group_by</span>(constructor.name) <span class="sc">%&gt;%</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">NumberFatalDrivers =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(NumberFatalDrivers))</span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a><span class="co"># Create interactive pie chart</span></span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a>constructor_pie_chart <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(<span class="at">data =</span> constructor_fatal_data, </span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a>        <span class="at">labels =</span> <span class="sc">~</span>constructor.name, </span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a>        <span class="at">values =</span> <span class="sc">~</span>NumberFatalDrivers, </span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a>        <span class="at">type =</span> <span class="st">&#39;pie&#39;</span>,</span>
<span id="cb3-13"><a href="#cb3-13" tabindex="-1"></a>        <span class="at">textinfo =</span> <span class="st">&#39;label+percent&#39;</span>,</span>
<span id="cb3-14"><a href="#cb3-14" tabindex="-1"></a>        <span class="at">hoverinfo =</span> <span class="st">&#39;text&#39;</span>,</span>
<span id="cb3-15"><a href="#cb3-15" tabindex="-1"></a>        <span class="at">text =</span> <span class="sc">~</span><span class="fu">paste</span>(constructor.name, <span class="st">&quot;: &quot;</span>, NumberFatalDrivers, <span class="st">&quot; fatal drivers&quot;</span>),</span>
<span id="cb3-16"><a href="#cb3-16" tabindex="-1"></a>        <span class="at">marker =</span> <span class="fu">list</span>(</span>
<span id="cb3-17"><a href="#cb3-17" tabindex="-1"></a>          <span class="at">colors =</span> <span class="fu">colorRampPalette</span>(<span class="fu">c</span>(<span class="st">&quot;blue&quot;</span>, <span class="st">&quot;red&quot;</span>))(<span class="fu">nrow</span>(constructor_fatal_data)),</span>
<span id="cb3-18"><a href="#cb3-18" tabindex="-1"></a>          <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">&#39;white&#39;</span>, <span class="at">width =</span> <span class="dv">1</span>)</span>
<span id="cb3-19"><a href="#cb3-19" tabindex="-1"></a>        )) <span class="sc">%&gt;%</span></span>
<span id="cb3-20"><a href="#cb3-20" tabindex="-1"></a>  <span class="fu">layout</span>(</span>
<span id="cb3-21"><a href="#cb3-21" tabindex="-1"></a>    <span class="at">title =</span> <span class="fu">list</span>(</span>
<span id="cb3-22"><a href="#cb3-22" tabindex="-1"></a>      <span class="at">text =</span> <span class="st">&quot;Distribution of Fatal Drivers by Constructor&quot;</span>,</span>
<span id="cb3-23"><a href="#cb3-23" tabindex="-1"></a>      <span class="at">font =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">16</span>, <span class="at">family =</span> <span class="st">&quot;Arial&quot;</span>, <span class="at">color =</span> <span class="st">&quot;black&quot;</span>)</span>
<span id="cb3-24"><a href="#cb3-24" tabindex="-1"></a>    ),</span>
<span id="cb3-25"><a href="#cb3-25" tabindex="-1"></a>    <span class="at">showlegend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb3-26"><a href="#cb3-26" tabindex="-1"></a>    <span class="at">margin =</span> <span class="fu">list</span>(<span class="at">l =</span> <span class="dv">20</span>, <span class="at">r =</span> <span class="dv">20</span>, <span class="at">t =</span> <span class="dv">50</span>, <span class="at">b =</span> <span class="dv">20</span>),</span>
<span id="cb3-27"><a href="#cb3-27" tabindex="-1"></a>    <span class="at">paper_bgcolor =</span> <span class="st">&#39;white&#39;</span></span>
<span id="cb3-28"><a href="#cb3-28" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb3-29"><a href="#cb3-29" tabindex="-1"></a>  <span class="fu">config</span>(<span class="at">displayModeBar =</span> <span class="cn">FALSE</span>)</span>
<span id="cb3-30"><a href="#cb3-30" tabindex="-1"></a></span>
<span id="cb3-31"><a href="#cb3-31" tabindex="-1"></a><span class="co"># Display the plot</span></span>
<span id="cb3-32"><a href="#cb3-32" tabindex="-1"></a>constructor_pie_chart</span></code></pre></div>
<div class="plotly html-widget html-fill-item" id="htmlwidget-50a0be12aff6d0bcfb0b" style="width:960px;height:576px;"></div>
<script type="application/json" data-for="htmlwidget-50a0be12aff6d0bcfb0b">{"x":{"visdat":{"1345c46cefaa1":["function () ","plotlyVisDat"]},"cur_data":"1345c46cefaa1","attrs":{"1345c46cefaa1":{"labels":{},"values":{},"textinfo":"label+percent","hoverinfo":"text","text":{},"marker":{"colors":["#0000FF","#0F00EF","#1F00DF","#2F00CF","#3F00BF","#4F00AF","#5F009F","#6F008F","#7F007F","#8F006F","#9F005F","#AF004F","#BF003F","#CF002F","#DF001F","#EF000F","#FF0000"],"line":{"color":"white","width":1}},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"pie"}},"layout":{"margin":{"b":20,"l":20,"t":50,"r":20},"title":{"text":"Distribution of Fatal Drivers by Constructor","font":{"size":16,"family":"Arial","color":"black"}},"showlegend":false,"paper_bgcolor":"white","hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false,"displayModeBar":false},"data":[{"labels":["Ferrari","Team Lotus","Kurtis Kraft","March","Brabham-BRM","Cooper-Climax","De Tomaso","Honda","Marussia","Maserati","Osella","Shadow","Simtek","Surtees","Tyrrell","Vanwall","Williams"],"values":[5,3,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1],"textinfo":"label+percent","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["Ferrari :  5  fatal drivers","Team Lotus :  3  fatal drivers","Kurtis Kraft :  2  fatal drivers","March :  2  fatal drivers","Brabham-BRM :  1  fatal drivers","Cooper-Climax :  1  fatal drivers","De Tomaso :  1  fatal drivers","Honda :  1  fatal drivers","Marussia :  1  fatal drivers","Maserati :  1  fatal drivers","Osella :  1  fatal drivers","Shadow :  1  fatal drivers","Simtek :  1  fatal drivers","Surtees :  1  fatal drivers","Tyrrell :  1  fatal drivers","Vanwall :  1  fatal drivers","Williams :  1  fatal drivers"],"marker":{"color":"rgba(31,119,180,1)","colors":["#0000FF","#0F00EF","#1F00DF","#2F00CF","#3F00BF","#4F00AF","#5F009F","#6F008F","#7F007F","#8F006F","#9F005F","#AF004F","#BF003F","#CF002F","#DF001F","#EF000F","#FF0000"],"line":{"color":"white","width":1}},"type":"pie","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p><strong>Key Insights:</strong></p>
<ul>
<li>Fatal events are not evenly distributed across constructors, with
several historic teams accounting for a disproportionate number of
incidents.</li>
<li>Ferrari, with the longest history in F1, has unfortunately
experienced the most fatal events.</li>
<li>Many modern teams have zero fatal incidents, highlighting safety
improvements across the sport.</li>
</ul>
</div>
</div>
<div id="driver-nationality-analysis" class="section level2">
<h2>4. Driver Nationality Analysis</h2>
<div id="driver-nationalities-and-fatality-rates"
class="section level3">
<h3>4.1 Driver Nationalities and Fatality Rates</h3>
<p>This visualization uses an interactive sunburst chart to show the
hierarchical relationship between driver nationalities, grouped by
continents, and their associated fatality rates.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="co"># Prepare nationality data</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>nationality_data <span class="ot">&lt;-</span> dataOK <span class="sc">%&gt;%</span></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>  <span class="fu">group_by</span>(driver.nationality) <span class="sc">%&gt;%</span></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a>    <span class="at">NumberDrivers =</span> <span class="fu">n_distinct</span>(driver.name),</span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a>    <span class="at">NumberFatalEvent =</span> <span class="fu">sum</span>(driver.fatal <span class="sc">==</span> <span class="st">&#39;Death&#39;</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a>  )</span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a></span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a><span class="co"># Add continent grouping and calculate fatality rate</span></span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a>nationality_data <span class="ot">&lt;-</span> nationality_data <span class="sc">%&gt;%</span></span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb4-12"><a href="#cb4-12" tabindex="-1"></a>    <span class="at">continent =</span> <span class="fu">case_when</span>(</span>
<span id="cb4-13"><a href="#cb4-13" tabindex="-1"></a>      driver.nationality <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;Italian&quot;</span>, <span class="st">&quot;British&quot;</span>, <span class="st">&quot;French&quot;</span>, <span class="st">&quot;Belgian&quot;</span>, <span class="st">&quot;Swiss&quot;</span>, <span class="st">&quot;Monegasque&quot;</span>, </span>
<span id="cb4-14"><a href="#cb4-14" tabindex="-1"></a>                              <span class="st">&quot;German&quot;</span>, <span class="st">&quot;Spanish&quot;</span>, <span class="st">&quot;Dutch&quot;</span>, <span class="st">&quot;Swedish&quot;</span>, <span class="st">&quot;Portuguese&quot;</span>, </span>
<span id="cb4-15"><a href="#cb4-15" tabindex="-1"></a>                              <span class="st">&quot;Austrian&quot;</span>, <span class="st">&quot;Liechtensteiner&quot;</span>, <span class="st">&quot;Danish&quot;</span>, <span class="st">&quot;Finnish&quot;</span>, </span>
<span id="cb4-16"><a href="#cb4-16" tabindex="-1"></a>                              <span class="st">&quot;Czech&quot;</span>, <span class="st">&quot;Hungarian&quot;</span>, <span class="st">&quot;Polish&quot;</span>, <span class="st">&quot;Russian&quot;</span>) <span class="sc">~</span> <span class="st">&quot;Europe&quot;</span>,</span>
<span id="cb4-17"><a href="#cb4-17" tabindex="-1"></a>      driver.nationality <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;Argentine&quot;</span>, <span class="st">&quot;Brazilian&quot;</span>, <span class="st">&quot;Uruguayan&quot;</span>, <span class="st">&quot;Venezuelan&quot;</span>, </span>
<span id="cb4-18"><a href="#cb4-18" tabindex="-1"></a>                              <span class="st">&quot;Mexican&quot;</span>, <span class="st">&quot;Canadian&quot;</span>, <span class="st">&quot;Chilean&quot;</span>, <span class="st">&quot;Colombian&quot;</span>, <span class="st">&quot;Argentinian&quot;</span>) <span class="sc">~</span> <span class="st">&quot;Americas&quot;</span>,</span>
<span id="cb4-19"><a href="#cb4-19" tabindex="-1"></a>      driver.nationality <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;Thai&quot;</span>, <span class="st">&quot;Japanese&quot;</span>, <span class="st">&quot;Malaysian&quot;</span>, <span class="st">&quot;Indian&quot;</span>, <span class="st">&quot;Indonesian&quot;</span>, </span>
<span id="cb4-20"><a href="#cb4-20" tabindex="-1"></a>                              <span class="st">&quot;Chinese&quot;</span>) <span class="sc">~</span> <span class="st">&quot;Asia&quot;</span>,</span>
<span id="cb4-21"><a href="#cb4-21" tabindex="-1"></a>      driver.nationality <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;South African&quot;</span>, <span class="st">&quot;Rhodesian&quot;</span>) <span class="sc">~</span> <span class="st">&quot;Africa&quot;</span>,</span>
<span id="cb4-22"><a href="#cb4-22" tabindex="-1"></a>      driver.nationality <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;Australian&quot;</span>, <span class="st">&quot;New Zealander&quot;</span>) <span class="sc">~</span> <span class="st">&quot;Oceania&quot;</span>,</span>
<span id="cb4-23"><a href="#cb4-23" tabindex="-1"></a>      driver.nationality <span class="sc">==</span> <span class="st">&quot;American&quot;</span> <span class="sc">~</span> <span class="st">&quot;North America&quot;</span>,</span>
<span id="cb4-24"><a href="#cb4-24" tabindex="-1"></a>      driver.nationality <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;American-Italian&quot;</span>, <span class="st">&quot;Argentine-Italian&quot;</span>) <span class="sc">~</span> <span class="st">&quot;Mixed&quot;</span>,</span>
<span id="cb4-25"><a href="#cb4-25" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">&quot;Other&quot;</span></span>
<span id="cb4-26"><a href="#cb4-26" tabindex="-1"></a>    ),</span>
<span id="cb4-27"><a href="#cb4-27" tabindex="-1"></a>    <span class="at">fatality_rate =</span> <span class="fu">ifelse</span>(NumberDrivers <span class="sc">&gt;</span> <span class="dv">0</span>, NumberFatalEvent <span class="sc">/</span> NumberDrivers <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">0</span>),</span>
<span id="cb4-28"><a href="#cb4-28" tabindex="-1"></a>    <span class="at">label_text =</span> <span class="fu">paste0</span>(driver.nationality, </span>
<span id="cb4-29"><a href="#cb4-29" tabindex="-1"></a>                      <span class="st">&quot;&lt;br&gt;Drivers: &quot;</span>, NumberDrivers, </span>
<span id="cb4-30"><a href="#cb4-30" tabindex="-1"></a>                      <span class="st">&quot;&lt;br&gt;Fatal events: &quot;</span>, NumberFatalEvent,</span>
<span id="cb4-31"><a href="#cb4-31" tabindex="-1"></a>                      <span class="st">&quot;&lt;br&gt;Fatality rate: &quot;</span>, <span class="fu">round</span>(fatality_rate, <span class="dv">1</span>), <span class="st">&quot;%&quot;</span>)</span>
<span id="cb4-32"><a href="#cb4-32" tabindex="-1"></a>  )</span>
<span id="cb4-33"><a href="#cb4-33" tabindex="-1"></a></span>
<span id="cb4-34"><a href="#cb4-34" tabindex="-1"></a><span class="co"># Create continent summaries for the inner ring</span></span>
<span id="cb4-35"><a href="#cb4-35" tabindex="-1"></a>continent_data <span class="ot">&lt;-</span> nationality_data <span class="sc">%&gt;%</span></span>
<span id="cb4-36"><a href="#cb4-36" tabindex="-1"></a>  <span class="fu">group_by</span>(continent) <span class="sc">%&gt;%</span></span>
<span id="cb4-37"><a href="#cb4-37" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb4-38"><a href="#cb4-38" tabindex="-1"></a>    <span class="at">NumberDrivers =</span> <span class="fu">sum</span>(NumberDrivers),</span>
<span id="cb4-39"><a href="#cb4-39" tabindex="-1"></a>    <span class="at">NumberFatalEvent =</span> <span class="fu">sum</span>(NumberFatalEvent),</span>
<span id="cb4-40"><a href="#cb4-40" tabindex="-1"></a>    <span class="at">fatality_rate =</span> <span class="fu">sum</span>(NumberFatalEvent) <span class="sc">/</span> <span class="fu">sum</span>(NumberDrivers) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb4-41"><a href="#cb4-41" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">&quot;drop&quot;</span></span>
<span id="cb4-42"><a href="#cb4-42" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb4-43"><a href="#cb4-43" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb4-44"><a href="#cb4-44" tabindex="-1"></a>    <span class="at">label_text =</span> <span class="fu">paste0</span>(continent, </span>
<span id="cb4-45"><a href="#cb4-45" tabindex="-1"></a>                      <span class="st">&quot;&lt;br&gt;Total drivers: &quot;</span>, NumberDrivers, </span>
<span id="cb4-46"><a href="#cb4-46" tabindex="-1"></a>                      <span class="st">&quot;&lt;br&gt;Total fatal events: &quot;</span>, NumberFatalEvent,</span>
<span id="cb4-47"><a href="#cb4-47" tabindex="-1"></a>                      <span class="st">&quot;&lt;br&gt;Fatality rate: &quot;</span>, <span class="fu">round</span>(fatality_rate, <span class="dv">1</span>), <span class="st">&quot;%&quot;</span>)</span>
<span id="cb4-48"><a href="#cb4-48" tabindex="-1"></a>  )</span>
<span id="cb4-49"><a href="#cb4-49" tabindex="-1"></a></span>
<span id="cb4-50"><a href="#cb4-50" tabindex="-1"></a><span class="co"># Prepare data for the sunburst chart</span></span>
<span id="cb4-51"><a href="#cb4-51" tabindex="-1"></a>labels <span class="ot">&lt;-</span> <span class="fu">c</span>(continent_data<span class="sc">$</span>continent, nationality_data<span class="sc">$</span>driver.nationality)</span>
<span id="cb4-52"><a href="#cb4-52" tabindex="-1"></a>parents <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&quot;&quot;</span>, <span class="fu">nrow</span>(continent_data)), nationality_data<span class="sc">$</span>continent)</span>
<span id="cb4-53"><a href="#cb4-53" tabindex="-1"></a>values <span class="ot">&lt;-</span> <span class="fu">c</span>(continent_data<span class="sc">$</span>NumberDrivers, nationality_data<span class="sc">$</span>NumberDrivers)</span>
<span id="cb4-54"><a href="#cb4-54" tabindex="-1"></a>hover_text <span class="ot">&lt;-</span> <span class="fu">c</span>(continent_data<span class="sc">$</span>label_text, nationality_data<span class="sc">$</span>label_text)</span>
<span id="cb4-55"><a href="#cb4-55" tabindex="-1"></a></span>
<span id="cb4-56"><a href="#cb4-56" tabindex="-1"></a><span class="co"># Create color scale based on fatality rate</span></span>
<span id="cb4-57"><a href="#cb4-57" tabindex="-1"></a>fatality_rates <span class="ot">&lt;-</span> <span class="fu">c</span>(continent_data<span class="sc">$</span>fatality_rate, nationality_data<span class="sc">$</span>fatality_rate)</span>
<span id="cb4-58"><a href="#cb4-58" tabindex="-1"></a>colors <span class="ot">&lt;-</span> <span class="fu">sapply</span>(fatality_rates, <span class="cf">function</span>(rate) {</span>
<span id="cb4-59"><a href="#cb4-59" tabindex="-1"></a>  <span class="cf">if</span> (rate <span class="sc">==</span> <span class="dv">0</span>) <span class="fu">return</span>(<span class="st">&quot;blue&quot;</span>)          <span class="co"># Blue for zero fatality</span></span>
<span id="cb4-60"><a href="#cb4-60" tabindex="-1"></a>  <span class="cf">else</span> <span class="cf">if</span> (rate <span class="sc">&lt;=</span> <span class="dv">3</span>) <span class="fu">return</span>(<span class="st">&quot;#8ecae6&quot;</span>)      <span class="co"># Light blue for low fatality</span></span>
<span id="cb4-61"><a href="#cb4-61" tabindex="-1"></a>  <span class="cf">else</span> <span class="cf">if</span> (rate <span class="sc">&lt;=</span> <span class="dv">6</span>) <span class="fu">return</span>(<span class="st">&quot;#ffb703&quot;</span>)      <span class="co"># Yellow for medium fatality</span></span>
<span id="cb4-62"><a href="#cb4-62" tabindex="-1"></a>  <span class="cf">else</span> <span class="fu">return</span>(<span class="st">&quot;red&quot;</span>)                     <span class="co"># Red for high fatality</span></span>
<span id="cb4-63"><a href="#cb4-63" tabindex="-1"></a>})</span>
<span id="cb4-64"><a href="#cb4-64" tabindex="-1"></a></span>
<span id="cb4-65"><a href="#cb4-65" tabindex="-1"></a><span class="co"># Create the sunburst chart</span></span>
<span id="cb4-66"><a href="#cb4-66" tabindex="-1"></a>nationality_sunburst <span class="ot">&lt;-</span> <span class="fu">plot_ly</span>(</span>
<span id="cb4-67"><a href="#cb4-67" tabindex="-1"></a>  <span class="at">labels =</span> labels,</span>
<span id="cb4-68"><a href="#cb4-68" tabindex="-1"></a>  <span class="at">parents =</span> parents,</span>
<span id="cb4-69"><a href="#cb4-69" tabindex="-1"></a>  <span class="at">values =</span> values,</span>
<span id="cb4-70"><a href="#cb4-70" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">&quot;sunburst&quot;</span>,</span>
<span id="cb4-71"><a href="#cb4-71" tabindex="-1"></a>  <span class="at">branchvalues =</span> <span class="st">&quot;total&quot;</span>,</span>
<span id="cb4-72"><a href="#cb4-72" tabindex="-1"></a>  <span class="at">hovertext =</span> hover_text,</span>
<span id="cb4-73"><a href="#cb4-73" tabindex="-1"></a>  <span class="at">hoverinfo =</span> <span class="st">&quot;text&quot;</span>,</span>
<span id="cb4-74"><a href="#cb4-74" tabindex="-1"></a>  <span class="at">marker =</span> <span class="fu">list</span>(</span>
<span id="cb4-75"><a href="#cb4-75" tabindex="-1"></a>    <span class="at">colors =</span> colors,</span>
<span id="cb4-76"><a href="#cb4-76" tabindex="-1"></a>    <span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">&quot;white&quot;</span>, <span class="at">width =</span> <span class="dv">1</span>)</span>
<span id="cb4-77"><a href="#cb4-77" tabindex="-1"></a>  ),</span>
<span id="cb4-78"><a href="#cb4-78" tabindex="-1"></a>  <span class="at">textinfo =</span> <span class="st">&quot;label&quot;</span>,</span>
<span id="cb4-79"><a href="#cb4-79" tabindex="-1"></a>  <span class="at">insidetextorientation =</span> <span class="st">&quot;radial&quot;</span></span>
<span id="cb4-80"><a href="#cb4-80" tabindex="-1"></a>) <span class="sc">%&gt;%</span> <span class="fu">layout</span>(</span>
<span id="cb4-81"><a href="#cb4-81" tabindex="-1"></a>  <span class="at">title =</span> <span class="fu">list</span>(</span>
<span id="cb4-82"><a href="#cb4-82" tabindex="-1"></a>    <span class="at">text =</span> <span class="st">&quot;F1 Drivers by Nationality and Fatality Rate&quot;</span>,</span>
<span id="cb4-83"><a href="#cb4-83" tabindex="-1"></a>    <span class="at">font =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">16</span>, <span class="at">family =</span> <span class="st">&quot;Arial&quot;</span>, <span class="at">color =</span> <span class="st">&quot;black&quot;</span>)</span>
<span id="cb4-84"><a href="#cb4-84" tabindex="-1"></a>  ),</span>
<span id="cb4-85"><a href="#cb4-85" tabindex="-1"></a>  <span class="at">margin =</span> <span class="fu">list</span>(<span class="at">l =</span> <span class="dv">20</span>, <span class="at">r =</span> <span class="dv">20</span>, <span class="at">t =</span> <span class="dv">50</span>, <span class="at">b =</span> <span class="dv">20</span>)</span>
<span id="cb4-86"><a href="#cb4-86" tabindex="-1"></a>)</span>
<span id="cb4-87"><a href="#cb4-87" tabindex="-1"></a></span>
<span id="cb4-88"><a href="#cb4-88" tabindex="-1"></a><span class="co"># Display the plot</span></span>
<span id="cb4-89"><a href="#cb4-89" tabindex="-1"></a>nationality_sunburst</span></code></pre></div>
<div class="plotly html-widget html-fill-item" id="htmlwidget-cf728b7e81e251e6e404" style="width:960px;height:576px;"></div>
<script type="application/json" data-for="htmlwidget-cf728b7e81e251e6e404">{"x":{"visdat":{"1345c546e75fa":["function () ","plotlyVisDat"]},"cur_data":"1345c546e75fa","attrs":{"1345c546e75fa":{"labels":["Africa","Americas","Asia","Europe","Mixed","North America","Oceania","Other","American","American-Italian","Argentine","Argentine-Italian","Argentinian","Australian","Austrian","Belgian","Brazilian","British","Canadian","Chilean","Chinese","Colombian","Czech","Danish","Dutch","East German","Finnish","French","German","Hungarian","Indian","Indonesian","Irish","Italian","Japanese","Liechtensteiner","Malaysian","Mexican","Monegasque","New Zealander","Polish","Portuguese","Rhodesian","Russian","South African","Spanish","Swedish","Swiss","Thai","Uruguayan","Venezuelan"],"parents":["","","","","","","","","North America","Mixed","Americas","Mixed","Americas","Oceania","Europe","Europe","Americas","Europe","Americas","Americas","Asia","Americas","Europe","Europe","Europe","Other","Europe","Europe","Europe","Europe","Asia","Asia","Other","Europe","Asia","Europe","Asia","Americas","Europe","Oceania","Europe","Europe","Africa","Europe","Africa","Europe","Europe","Europe","Asia","Americas","Americas"],"values":[27,88,27,522,2,158,29,8,158,1,24,1,1,19,15,23,32,166,14,1,1,3,1,5,18,3,9,73,50,1,2,1,5,99,20,1,1,6,4,10,1,4,4,4,23,15,10,23,2,4,3],"branchvalues":"total","hovertext":["Africa<br>Total drivers: 27<br>Total fatal events: 0<br>Fatality rate: 0%","Americas<br>Total drivers: 88<br>Total fatal events: 3<br>Fatality rate: 3.4%","Asia<br>Total drivers: 27<br>Total fatal events: 0<br>Fatality rate: 0%","Europe<br>Total drivers: 522<br>Total fatal events: 19<br>Fatality rate: 3.6%","Mixed<br>Total drivers: 2<br>Total fatal events: 0<br>Fatality rate: 0%","North America<br>Total drivers: 158<br>Total fatal events: 3<br>Fatality rate: 1.9%","Oceania<br>Total drivers: 29<br>Total fatal events: 0<br>Fatality rate: 0%","Other<br>Total drivers: 8<br>Total fatal events: 0<br>Fatality rate: 0%","American<br>Drivers: 158<br>Fatal events: 3<br>Fatality rate: 1.9%","American-Italian<br>Drivers: 1<br>Fatal events: 0<br>Fatality rate: 0%","Argentine<br>Drivers: 24<br>Fatal events: 1<br>Fatality rate: 4.2%","Argentine-Italian<br>Drivers: 1<br>Fatal events: 0<br>Fatality rate: 0%","Argentinian<br>Drivers: 1<br>Fatal events: 0<br>Fatality rate: 0%","Australian<br>Drivers: 19<br>Fatal events: 0<br>Fatality rate: 0%","Austrian<br>Drivers: 15<br>Fatal events: 3<br>Fatality rate: 20%","Belgian<br>Drivers: 23<br>Fatal events: 0<br>Fatality rate: 0%","Brazilian<br>Drivers: 32<br>Fatal events: 1<br>Fatality rate: 3.1%","British<br>Drivers: 166<br>Fatal events: 8<br>Fatality rate: 4.8%","Canadian<br>Drivers: 14<br>Fatal events: 1<br>Fatality rate: 7.1%","Chilean<br>Drivers: 1<br>Fatal events: 0<br>Fatality rate: 0%","Chinese<br>Drivers: 1<br>Fatal events: 0<br>Fatality rate: 0%","Colombian<br>Drivers: 3<br>Fatal events: 0<br>Fatality rate: 0%","Czech<br>Drivers: 1<br>Fatal events: 0<br>Fatality rate: 0%","Danish<br>Drivers: 5<br>Fatal events: 0<br>Fatality rate: 0%","Dutch<br>Drivers: 18<br>Fatal events: 0<br>Fatality rate: 0%","East German<br>Drivers: 3<br>Fatal events: 0<br>Fatality rate: 0%","Finnish<br>Drivers: 9<br>Fatal events: 0<br>Fatality rate: 0%","French<br>Drivers: 73<br>Fatal events: 3<br>Fatality rate: 4.1%","German<br>Drivers: 50<br>Fatal events: 1<br>Fatality rate: 2%","Hungarian<br>Drivers: 1<br>Fatal events: 0<br>Fatality rate: 0%","Indian<br>Drivers: 2<br>Fatal events: 0<br>Fatality rate: 0%","Indonesian<br>Drivers: 1<br>Fatal events: 0<br>Fatality rate: 0%","Irish<br>Drivers: 5<br>Fatal events: 0<br>Fatality rate: 0%","Italian<br>Drivers: 99<br>Fatal events: 3<br>Fatality rate: 3%","Japanese<br>Drivers: 20<br>Fatal events: 0<br>Fatality rate: 0%","Liechtensteiner<br>Drivers: 1<br>Fatal events: 0<br>Fatality rate: 0%","Malaysian<br>Drivers: 1<br>Fatal events: 0<br>Fatality rate: 0%","Mexican<br>Drivers: 6<br>Fatal events: 0<br>Fatality rate: 0%","Monegasque<br>Drivers: 4<br>Fatal events: 0<br>Fatality rate: 0%","New Zealander<br>Drivers: 10<br>Fatal events: 0<br>Fatality rate: 0%","Polish<br>Drivers: 1<br>Fatal events: 0<br>Fatality rate: 0%","Portuguese<br>Drivers: 4<br>Fatal events: 0<br>Fatality rate: 0%","Rhodesian<br>Drivers: 4<br>Fatal events: 0<br>Fatality rate: 0%","Russian<br>Drivers: 4<br>Fatal events: 0<br>Fatality rate: 0%","South African<br>Drivers: 23<br>Fatal events: 0<br>Fatality rate: 0%","Spanish<br>Drivers: 15<br>Fatal events: 0<br>Fatality rate: 0%","Swedish<br>Drivers: 10<br>Fatal events: 1<br>Fatality rate: 10%","Swiss<br>Drivers: 23<br>Fatal events: 0<br>Fatality rate: 0%","Thai<br>Drivers: 2<br>Fatal events: 0<br>Fatality rate: 0%","Uruguayan<br>Drivers: 4<br>Fatal events: 0<br>Fatality rate: 0%","Venezuelan<br>Drivers: 3<br>Fatal events: 0<br>Fatality rate: 0%"],"hoverinfo":"text","marker":{"colors":["blue","#ffb703","blue","#ffb703","blue","#8ecae6","blue","blue","#8ecae6","blue","#ffb703","blue","blue","blue","red","blue","#ffb703","#ffb703","red","blue","blue","blue","blue","blue","blue","blue","blue","#ffb703","#8ecae6","blue","blue","blue","blue","#ffb703","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","red","blue","blue","blue","blue"],"line":{"color":"white","width":1}},"textinfo":"label","insidetextorientation":"radial","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"sunburst"}},"layout":{"margin":{"b":20,"l":20,"t":50,"r":20},"title":{"text":"F1 Drivers by Nationality and Fatality Rate","font":{"size":16,"family":"Arial","color":"black"}},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"labels":["Africa","Americas","Asia","Europe","Mixed","North America","Oceania","Other","American","American-Italian","Argentine","Argentine-Italian","Argentinian","Australian","Austrian","Belgian","Brazilian","British","Canadian","Chilean","Chinese","Colombian","Czech","Danish","Dutch","East German","Finnish","French","German","Hungarian","Indian","Indonesian","Irish","Italian","Japanese","Liechtensteiner","Malaysian","Mexican","Monegasque","New Zealander","Polish","Portuguese","Rhodesian","Russian","South African","Spanish","Swedish","Swiss","Thai","Uruguayan","Venezuelan"],"parents":["","","","","","","","","North America","Mixed","Americas","Mixed","Americas","Oceania","Europe","Europe","Americas","Europe","Americas","Americas","Asia","Americas","Europe","Europe","Europe","Other","Europe","Europe","Europe","Europe","Asia","Asia","Other","Europe","Asia","Europe","Asia","Americas","Europe","Oceania","Europe","Europe","Africa","Europe","Africa","Europe","Europe","Europe","Asia","Americas","Americas"],"values":[27,88,27,522,2,158,29,8,158,1,24,1,1,19,15,23,32,166,14,1,1,3,1,5,18,3,9,73,50,1,2,1,5,99,20,1,1,6,4,10,1,4,4,4,23,15,10,23,2,4,3],"branchvalues":"total","hovertext":["Africa<br>Total drivers: 27<br>Total fatal events: 0<br>Fatality rate: 0%","Americas<br>Total drivers: 88<br>Total fatal events: 3<br>Fatality rate: 3.4%","Asia<br>Total drivers: 27<br>Total fatal events: 0<br>Fatality rate: 0%","Europe<br>Total drivers: 522<br>Total fatal events: 19<br>Fatality rate: 3.6%","Mixed<br>Total drivers: 2<br>Total fatal events: 0<br>Fatality rate: 0%","North America<br>Total drivers: 158<br>Total fatal events: 3<br>Fatality rate: 1.9%","Oceania<br>Total drivers: 29<br>Total fatal events: 0<br>Fatality rate: 0%","Other<br>Total drivers: 8<br>Total fatal events: 0<br>Fatality rate: 0%","American<br>Drivers: 158<br>Fatal events: 3<br>Fatality rate: 1.9%","American-Italian<br>Drivers: 1<br>Fatal events: 0<br>Fatality rate: 0%","Argentine<br>Drivers: 24<br>Fatal events: 1<br>Fatality rate: 4.2%","Argentine-Italian<br>Drivers: 1<br>Fatal events: 0<br>Fatality rate: 0%","Argentinian<br>Drivers: 1<br>Fatal events: 0<br>Fatality rate: 0%","Australian<br>Drivers: 19<br>Fatal events: 0<br>Fatality rate: 0%","Austrian<br>Drivers: 15<br>Fatal events: 3<br>Fatality rate: 20%","Belgian<br>Drivers: 23<br>Fatal events: 0<br>Fatality rate: 0%","Brazilian<br>Drivers: 32<br>Fatal events: 1<br>Fatality rate: 3.1%","British<br>Drivers: 166<br>Fatal events: 8<br>Fatality rate: 4.8%","Canadian<br>Drivers: 14<br>Fatal events: 1<br>Fatality rate: 7.1%","Chilean<br>Drivers: 1<br>Fatal events: 0<br>Fatality rate: 0%","Chinese<br>Drivers: 1<br>Fatal events: 0<br>Fatality rate: 0%","Colombian<br>Drivers: 3<br>Fatal events: 0<br>Fatality rate: 0%","Czech<br>Drivers: 1<br>Fatal events: 0<br>Fatality rate: 0%","Danish<br>Drivers: 5<br>Fatal events: 0<br>Fatality rate: 0%","Dutch<br>Drivers: 18<br>Fatal events: 0<br>Fatality rate: 0%","East German<br>Drivers: 3<br>Fatal events: 0<br>Fatality rate: 0%","Finnish<br>Drivers: 9<br>Fatal events: 0<br>Fatality rate: 0%","French<br>Drivers: 73<br>Fatal events: 3<br>Fatality rate: 4.1%","German<br>Drivers: 50<br>Fatal events: 1<br>Fatality rate: 2%","Hungarian<br>Drivers: 1<br>Fatal events: 0<br>Fatality rate: 0%","Indian<br>Drivers: 2<br>Fatal events: 0<br>Fatality rate: 0%","Indonesian<br>Drivers: 1<br>Fatal events: 0<br>Fatality rate: 0%","Irish<br>Drivers: 5<br>Fatal events: 0<br>Fatality rate: 0%","Italian<br>Drivers: 99<br>Fatal events: 3<br>Fatality rate: 3%","Japanese<br>Drivers: 20<br>Fatal events: 0<br>Fatality rate: 0%","Liechtensteiner<br>Drivers: 1<br>Fatal events: 0<br>Fatality rate: 0%","Malaysian<br>Drivers: 1<br>Fatal events: 0<br>Fatality rate: 0%","Mexican<br>Drivers: 6<br>Fatal events: 0<br>Fatality rate: 0%","Monegasque<br>Drivers: 4<br>Fatal events: 0<br>Fatality rate: 0%","New Zealander<br>Drivers: 10<br>Fatal events: 0<br>Fatality rate: 0%","Polish<br>Drivers: 1<br>Fatal events: 0<br>Fatality rate: 0%","Portuguese<br>Drivers: 4<br>Fatal events: 0<br>Fatality rate: 0%","Rhodesian<br>Drivers: 4<br>Fatal events: 0<br>Fatality rate: 0%","Russian<br>Drivers: 4<br>Fatal events: 0<br>Fatality rate: 0%","South African<br>Drivers: 23<br>Fatal events: 0<br>Fatality rate: 0%","Spanish<br>Drivers: 15<br>Fatal events: 0<br>Fatality rate: 0%","Swedish<br>Drivers: 10<br>Fatal events: 1<br>Fatality rate: 10%","Swiss<br>Drivers: 23<br>Fatal events: 0<br>Fatality rate: 0%","Thai<br>Drivers: 2<br>Fatal events: 0<br>Fatality rate: 0%","Uruguayan<br>Drivers: 4<br>Fatal events: 0<br>Fatality rate: 0%","Venezuelan<br>Drivers: 3<br>Fatal events: 0<br>Fatality rate: 0%"],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"marker":{"color":"rgba(31,119,180,1)","colors":["blue","#ffb703","blue","#ffb703","blue","#8ecae6","blue","blue","#8ecae6","blue","#ffb703","blue","blue","blue","red","blue","#ffb703","#ffb703","red","blue","blue","blue","blue","blue","blue","blue","blue","#ffb703","#8ecae6","blue","blue","blue","blue","#ffb703","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","red","blue","blue","blue","blue"],"line":{"color":"white","width":1}},"textinfo":"label","insidetextorientation":"radial","type":"sunburst","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p><strong>Key Insights:</strong></p>
<ul>
<li>European nations, particularly British and Italian drivers, have had
the largest representation in F1 with varying fatality rates.</li>
<li>Continental differences exist, with some regions showing
consistently lower risk profiles than others.</li>
<li>Nations with fewer total drivers often show more extreme fatality
rates due to small sample sizes.</li>
</ul>
</div>
<div id="nationality-data-table" class="section level3">
<h3>4.2 Nationality Data Table</h3>
<p>This table provides detailed statistics on driver nationalities and
their associated fatality events.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="co"># Prepare nationality table data</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>nationality_table_data <span class="ot">&lt;-</span> nationality_data <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>  <span class="fu">select</span>(driver.nationality, NumberDrivers, NumberFatalEvent) <span class="sc">%&gt;%</span></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a>  <span class="co"># Add fatality rate indicator</span></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a>    <span class="at">FatalityRate =</span> <span class="fu">ifelse</span>(NumberDrivers <span class="sc">&gt;</span> <span class="dv">0</span>, </span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a>                          <span class="fu">round</span>(NumberFatalEvent<span class="sc">/</span>NumberDrivers<span class="sc">*</span><span class="dv">100</span>, <span class="dv">2</span>), <span class="dv">0</span>)</span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a>  <span class="co"># Sort by number of drivers in descending order</span></span>
<span id="cb5-10"><a href="#cb5-10" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(NumberDrivers))</span>
<span id="cb5-11"><a href="#cb5-11" tabindex="-1"></a></span>
<span id="cb5-12"><a href="#cb5-12" tabindex="-1"></a><span class="co"># Create table</span></span>
<span id="cb5-13"><a href="#cb5-13" tabindex="-1"></a>nationality_table <span class="ot">&lt;-</span> nationality_table_data <span class="sc">%&gt;%</span></span>
<span id="cb5-14"><a href="#cb5-14" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">%&gt;%</span></span>
<span id="cb5-15"><a href="#cb5-15" tabindex="-1"></a>  <span class="co"># Set column labels</span></span>
<span id="cb5-16"><a href="#cb5-16" tabindex="-1"></a>  <span class="fu">cols_label</span>(</span>
<span id="cb5-17"><a href="#cb5-17" tabindex="-1"></a>    <span class="at">driver.nationality =</span> <span class="st">&quot;Nationality&quot;</span>,</span>
<span id="cb5-18"><a href="#cb5-18" tabindex="-1"></a>    <span class="at">NumberDrivers =</span> <span class="st">&quot;Number of Drivers&quot;</span>,</span>
<span id="cb5-19"><a href="#cb5-19" tabindex="-1"></a>    <span class="at">NumberFatalEvent =</span> <span class="st">&quot;Fatal Events&quot;</span>,</span>
<span id="cb5-20"><a href="#cb5-20" tabindex="-1"></a>    <span class="at">FatalityRate =</span> <span class="st">&quot;Fatality Rate (%)&quot;</span></span>
<span id="cb5-21"><a href="#cb5-21" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb5-22"><a href="#cb5-22" tabindex="-1"></a>  <span class="co"># Set table title and subtitle</span></span>
<span id="cb5-23"><a href="#cb5-23" tabindex="-1"></a>  <span class="fu">tab_header</span>(</span>
<span id="cb5-24"><a href="#cb5-24" tabindex="-1"></a>    <span class="at">title =</span> <span class="fu">md</span>(<span class="st">&quot;**Formula 1 Driver Nationalities and Fatalities**&quot;</span>),</span>
<span id="cb5-25"><a href="#cb5-25" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;Historical data on drivers and fatal events by nationality&quot;</span></span>
<span id="cb5-26"><a href="#cb5-26" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb5-27"><a href="#cb5-27" tabindex="-1"></a>  <span class="co"># Format number columns</span></span>
<span id="cb5-28"><a href="#cb5-28" tabindex="-1"></a>  <span class="fu">fmt_number</span>(</span>
<span id="cb5-29"><a href="#cb5-29" tabindex="-1"></a>    <span class="at">columns =</span> NumberDrivers,</span>
<span id="cb5-30"><a href="#cb5-30" tabindex="-1"></a>    <span class="at">use_seps =</span> <span class="cn">TRUE</span>,</span>
<span id="cb5-31"><a href="#cb5-31" tabindex="-1"></a>    <span class="at">decimals =</span> <span class="dv">0</span></span>
<span id="cb5-32"><a href="#cb5-32" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb5-33"><a href="#cb5-33" tabindex="-1"></a>  <span class="fu">fmt_number</span>(</span>
<span id="cb5-34"><a href="#cb5-34" tabindex="-1"></a>    <span class="at">columns =</span> NumberFatalEvent,</span>
<span id="cb5-35"><a href="#cb5-35" tabindex="-1"></a>    <span class="at">use_seps =</span> <span class="cn">TRUE</span>,</span>
<span id="cb5-36"><a href="#cb5-36" tabindex="-1"></a>    <span class="at">decimals =</span> <span class="dv">0</span></span>
<span id="cb5-37"><a href="#cb5-37" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb5-38"><a href="#cb5-38" tabindex="-1"></a>  <span class="fu">fmt_percent</span>(</span>
<span id="cb5-39"><a href="#cb5-39" tabindex="-1"></a>    <span class="at">columns =</span> FatalityRate,</span>
<span id="cb5-40"><a href="#cb5-40" tabindex="-1"></a>    <span class="at">decimals =</span> <span class="dv">2</span>,</span>
<span id="cb5-41"><a href="#cb5-41" tabindex="-1"></a>    <span class="at">scale_values =</span> <span class="cn">FALSE</span></span>
<span id="cb5-42"><a href="#cb5-42" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb5-43"><a href="#cb5-43" tabindex="-1"></a>  <span class="co"># Conditional formatting - highlight fatality rates</span></span>
<span id="cb5-44"><a href="#cb5-44" tabindex="-1"></a>  <span class="fu">data_color</span>(</span>
<span id="cb5-45"><a href="#cb5-45" tabindex="-1"></a>    <span class="at">columns =</span> FatalityRate,</span>
<span id="cb5-46"><a href="#cb5-46" tabindex="-1"></a>    <span class="at">colors =</span> scales<span class="sc">::</span><span class="fu">col_numeric</span>(</span>
<span id="cb5-47"><a href="#cb5-47" tabindex="-1"></a>      <span class="at">palette =</span> <span class="fu">c</span>(<span class="st">&quot;blue&quot;</span>, <span class="st">&quot;#8ecae6&quot;</span>, <span class="st">&quot;#ffb703&quot;</span>, <span class="st">&quot;red&quot;</span>),</span>
<span id="cb5-48"><a href="#cb5-48" tabindex="-1"></a>      <span class="at">domain =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">20</span>)</span>
<span id="cb5-49"><a href="#cb5-49" tabindex="-1"></a>    )</span>
<span id="cb5-50"><a href="#cb5-50" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb5-51"><a href="#cb5-51" tabindex="-1"></a>  <span class="co"># Set table style</span></span>
<span id="cb5-52"><a href="#cb5-52" tabindex="-1"></a>  <span class="fu">tab_style</span>(</span>
<span id="cb5-53"><a href="#cb5-53" tabindex="-1"></a>    <span class="at">style =</span> <span class="fu">cell_text</span>(<span class="at">weight =</span> <span class="st">&quot;bold&quot;</span>),</span>
<span id="cb5-54"><a href="#cb5-54" tabindex="-1"></a>    <span class="at">locations =</span> <span class="fu">cells_column_labels</span>()</span>
<span id="cb5-55"><a href="#cb5-55" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb5-56"><a href="#cb5-56" tabindex="-1"></a>  <span class="co"># Footnote</span></span>
<span id="cb5-57"><a href="#cb5-57" tabindex="-1"></a>  <span class="fu">tab_source_note</span>(</span>
<span id="cb5-58"><a href="#cb5-58" tabindex="-1"></a>    <span class="at">source_note =</span> <span class="fu">md</span>(<span class="st">&quot;*Fatality Rate = (Fatal Events / Number of Drivers) × 100*&quot;</span>)</span>
<span id="cb5-59"><a href="#cb5-59" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb5-60"><a href="#cb5-60" tabindex="-1"></a>  <span class="co"># Set table theme</span></span>
<span id="cb5-61"><a href="#cb5-61" tabindex="-1"></a>  <span class="fu">tab_options</span>(</span>
<span id="cb5-62"><a href="#cb5-62" tabindex="-1"></a>    <span class="at">heading.background.color =</span> <span class="st">&quot;#f0f0f0&quot;</span>,</span>
<span id="cb5-63"><a href="#cb5-63" tabindex="-1"></a>    <span class="at">column_labels.background.color =</span> <span class="st">&quot;#e0e0e0&quot;</span>,</span>
<span id="cb5-64"><a href="#cb5-64" tabindex="-1"></a>    <span class="at">table.border.top.style =</span> <span class="st">&quot;hidden&quot;</span>,</span>
<span id="cb5-65"><a href="#cb5-65" tabindex="-1"></a>    <span class="at">table.border.bottom.style =</span> <span class="st">&quot;hidden&quot;</span>,</span>
<span id="cb5-66"><a href="#cb5-66" tabindex="-1"></a>    <span class="at">column_labels.border.top.style =</span> <span class="st">&quot;solid&quot;</span>,</span>
<span id="cb5-67"><a href="#cb5-67" tabindex="-1"></a>    <span class="at">column_labels.border.top.width =</span> <span class="fu">px</span>(<span class="dv">2</span>),</span>
<span id="cb5-68"><a href="#cb5-68" tabindex="-1"></a>    <span class="at">column_labels.border.top.color =</span> <span class="st">&quot;#404040&quot;</span>,</span>
<span id="cb5-69"><a href="#cb5-69" tabindex="-1"></a>    <span class="at">table_body.hlines.color =</span> <span class="st">&quot;#f0f0f0&quot;</span>,</span>
<span id="cb5-70"><a href="#cb5-70" tabindex="-1"></a>    <span class="at">table_body.border.bottom.color =</span> <span class="st">&quot;#404040&quot;</span>,</span>
<span id="cb5-71"><a href="#cb5-71" tabindex="-1"></a>    <span class="at">footnotes.border.bottom.color =</span> <span class="st">&quot;#404040&quot;</span>,</span>
<span id="cb5-72"><a href="#cb5-72" tabindex="-1"></a>    <span class="at">source_notes.border.bottom.color =</span> <span class="st">&quot;#404040&quot;</span>,</span>
<span id="cb5-73"><a href="#cb5-73" tabindex="-1"></a>    <span class="at">footnotes.padding =</span> <span class="fu">px</span>(<span class="dv">5</span>),</span>
<span id="cb5-74"><a href="#cb5-74" tabindex="-1"></a>    <span class="at">source_notes.padding =</span> <span class="fu">px</span>(<span class="dv">5</span>)</span>
<span id="cb5-75"><a href="#cb5-75" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## Warning: Since gt v0.9.0, the `colors` argument has been deprecated.
## • Please use the `fn` argument instead.
## This warning is displayed once every 8 hours.</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="co"># Display the table</span></span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a>nationality_table</span></code></pre></div>
<div id="qaspwqlpsl" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#qaspwqlpsl table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#qaspwqlpsl thead, #qaspwqlpsl tbody, #qaspwqlpsl tfoot, #qaspwqlpsl tr, #qaspwqlpsl td, #qaspwqlpsl th {
  border-style: none;
}

#qaspwqlpsl p {
  margin: 0;
  padding: 0;
}

#qaspwqlpsl .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: hidden;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: hidden;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#qaspwqlpsl .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#qaspwqlpsl .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#qaspwqlpsl .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#qaspwqlpsl .gt_heading {
  background-color: #F0F0F0;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#qaspwqlpsl .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qaspwqlpsl .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #404040;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#qaspwqlpsl .gt_col_heading {
  color: #333333;
  background-color: #E0E0E0;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#qaspwqlpsl .gt_column_spanner_outer {
  color: #333333;
  background-color: #E0E0E0;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#qaspwqlpsl .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#qaspwqlpsl .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#qaspwqlpsl .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#qaspwqlpsl .gt_spanner_row {
  border-bottom-style: hidden;
}

#qaspwqlpsl .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#qaspwqlpsl .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#qaspwqlpsl .gt_from_md > :first-child {
  margin-top: 0;
}

#qaspwqlpsl .gt_from_md > :last-child {
  margin-bottom: 0;
}

#qaspwqlpsl .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #F0F0F0;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#qaspwqlpsl .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#qaspwqlpsl .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#qaspwqlpsl .gt_row_group_first td {
  border-top-width: 2px;
}

#qaspwqlpsl .gt_row_group_first th {
  border-top-width: 2px;
}

#qaspwqlpsl .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#qaspwqlpsl .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#qaspwqlpsl .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#qaspwqlpsl .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qaspwqlpsl .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#qaspwqlpsl .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#qaspwqlpsl .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#qaspwqlpsl .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#qaspwqlpsl .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #404040;
}

#qaspwqlpsl .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #404040;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#qaspwqlpsl .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 5px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
}

#qaspwqlpsl .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #404040;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#qaspwqlpsl .gt_sourcenote {
  font-size: 90%;
  padding-top: 5px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
}

#qaspwqlpsl .gt_left {
  text-align: left;
}

#qaspwqlpsl .gt_center {
  text-align: center;
}

#qaspwqlpsl .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#qaspwqlpsl .gt_font_normal {
  font-weight: normal;
}

#qaspwqlpsl .gt_font_bold {
  font-weight: bold;
}

#qaspwqlpsl .gt_font_italic {
  font-style: italic;
}

#qaspwqlpsl .gt_super {
  font-size: 65%;
}

#qaspwqlpsl .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#qaspwqlpsl .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#qaspwqlpsl .gt_indent_1 {
  text-indent: 5px;
}

#qaspwqlpsl .gt_indent_2 {
  text-indent: 10px;
}

#qaspwqlpsl .gt_indent_3 {
  text-indent: 15px;
}

#qaspwqlpsl .gt_indent_4 {
  text-indent: 20px;
}

#qaspwqlpsl .gt_indent_5 {
  text-indent: 25px;
}

#qaspwqlpsl .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#qaspwqlpsl div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_heading">
      <td colspan="4" class="gt_heading gt_title gt_font_normal" style><span class='gt_from_md'><strong>Formula 1 Driver Nationalities and Fatalities</strong></span></td>
    </tr>
    <tr class="gt_heading">
      <td colspan="4" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style>Historical data on drivers and fatal events by nationality</td>
    </tr>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" style="font-weight: bold;" scope="col" id="driver.nationality">Nationality</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" style="font-weight: bold;" scope="col" id="NumberDrivers">Number of Drivers</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" style="font-weight: bold;" scope="col" id="NumberFatalEvent">Fatal Events</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" style="font-weight: bold;" scope="col" id="FatalityRate">Fatality Rate (%)</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="driver.nationality" class="gt_row gt_left">British</td>
<td headers="NumberDrivers" class="gt_row gt_right">166</td>
<td headers="NumberFatalEvent" class="gt_row gt_right">8</td>
<td headers="FatalityRate" class="gt_row gt_right" style="background-color: #849CEF; color: #FFFFFF;">4.82%</td></tr>
    <tr><td headers="driver.nationality" class="gt_row gt_left">American</td>
<td headers="NumberDrivers" class="gt_row gt_right">158</td>
<td headers="NumberFatalEvent" class="gt_row gt_right">3</td>
<td headers="FatalityRate" class="gt_row gt_right" style="background-color: #5C50F9; color: #FFFFFF;">1.90%</td></tr>
    <tr><td headers="driver.nationality" class="gt_row gt_left">Italian</td>
<td headers="NumberDrivers" class="gt_row gt_right">99</td>
<td headers="NumberFatalEvent" class="gt_row gt_right">3</td>
<td headers="FatalityRate" class="gt_row gt_right" style="background-color: #706EF5; color: #FFFFFF;">3.03%</td></tr>
    <tr><td headers="driver.nationality" class="gt_row gt_left">French</td>
<td headers="NumberDrivers" class="gt_row gt_right">73</td>
<td headers="NumberFatalEvent" class="gt_row gt_right">3</td>
<td headers="FatalityRate" class="gt_row gt_right" style="background-color: #7D8AF1; color: #FFFFFF;">4.11%</td></tr>
    <tr><td headers="driver.nationality" class="gt_row gt_left">German</td>
<td headers="NumberDrivers" class="gt_row gt_right">50</td>
<td headers="NumberFatalEvent" class="gt_row gt_right">1</td>
<td headers="FatalityRate" class="gt_row gt_right" style="background-color: #5E53F9; color: #FFFFFF;">2.00%</td></tr>
    <tr><td headers="driver.nationality" class="gt_row gt_left">Brazilian</td>
<td headers="NumberDrivers" class="gt_row gt_right">32</td>
<td headers="NumberFatalEvent" class="gt_row gt_right">1</td>
<td headers="FatalityRate" class="gt_row gt_right" style="background-color: #7170F5; color: #FFFFFF;">3.12%</td></tr>
    <tr><td headers="driver.nationality" class="gt_row gt_left">Argentine</td>
<td headers="NumberDrivers" class="gt_row gt_right">24</td>
<td headers="NumberFatalEvent" class="gt_row gt_right">1</td>
<td headers="FatalityRate" class="gt_row gt_right" style="background-color: #7E8BF1; color: #FFFFFF;">4.17%</td></tr>
    <tr><td headers="driver.nationality" class="gt_row gt_left">Belgian</td>
<td headers="NumberDrivers" class="gt_row gt_right">23</td>
<td headers="NumberFatalEvent" class="gt_row gt_right">0</td>
<td headers="FatalityRate" class="gt_row gt_right" style="background-color: #0000FF; color: #FFFFFF;">0.00%</td></tr>
    <tr><td headers="driver.nationality" class="gt_row gt_left">South African</td>
<td headers="NumberDrivers" class="gt_row gt_right">23</td>
<td headers="NumberFatalEvent" class="gt_row gt_right">0</td>
<td headers="FatalityRate" class="gt_row gt_right" style="background-color: #0000FF; color: #FFFFFF;">0.00%</td></tr>
    <tr><td headers="driver.nationality" class="gt_row gt_left">Swiss</td>
<td headers="NumberDrivers" class="gt_row gt_right">23</td>
<td headers="NumberFatalEvent" class="gt_row gt_right">0</td>
<td headers="FatalityRate" class="gt_row gt_right" style="background-color: #0000FF; color: #FFFFFF;">0.00%</td></tr>
    <tr><td headers="driver.nationality" class="gt_row gt_left">Japanese</td>
<td headers="NumberDrivers" class="gt_row gt_right">20</td>
<td headers="NumberFatalEvent" class="gt_row gt_right">0</td>
<td headers="FatalityRate" class="gt_row gt_right" style="background-color: #0000FF; color: #FFFFFF;">0.00%</td></tr>
    <tr><td headers="driver.nationality" class="gt_row gt_left">Australian</td>
<td headers="NumberDrivers" class="gt_row gt_right">19</td>
<td headers="NumberFatalEvent" class="gt_row gt_right">0</td>
<td headers="FatalityRate" class="gt_row gt_right" style="background-color: #0000FF; color: #FFFFFF;">0.00%</td></tr>
    <tr><td headers="driver.nationality" class="gt_row gt_left">Dutch</td>
<td headers="NumberDrivers" class="gt_row gt_right">18</td>
<td headers="NumberFatalEvent" class="gt_row gt_right">0</td>
<td headers="FatalityRate" class="gt_row gt_right" style="background-color: #0000FF; color: #FFFFFF;">0.00%</td></tr>
    <tr><td headers="driver.nationality" class="gt_row gt_left">Austrian</td>
<td headers="NumberDrivers" class="gt_row gt_right">15</td>
<td headers="NumberFatalEvent" class="gt_row gt_right">3</td>
<td headers="FatalityRate" class="gt_row gt_right" style="background-color: #FF0000; color: #FFFFFF;">20.00%</td></tr>
    <tr><td headers="driver.nationality" class="gt_row gt_left">Spanish</td>
<td headers="NumberDrivers" class="gt_row gt_right">15</td>
<td headers="NumberFatalEvent" class="gt_row gt_right">0</td>
<td headers="FatalityRate" class="gt_row gt_right" style="background-color: #0000FF; color: #FFFFFF;">0.00%</td></tr>
    <tr><td headers="driver.nationality" class="gt_row gt_left">Canadian</td>
<td headers="NumberDrivers" class="gt_row gt_right">14</td>
<td headers="NumberFatalEvent" class="gt_row gt_right">1</td>
<td headers="FatalityRate" class="gt_row gt_right" style="background-color: #9EC9D9; color: #000000;">7.14%</td></tr>
    <tr><td headers="driver.nationality" class="gt_row gt_left">New Zealander</td>
<td headers="NumberDrivers" class="gt_row gt_right">10</td>
<td headers="NumberFatalEvent" class="gt_row gt_right">0</td>
<td headers="FatalityRate" class="gt_row gt_right" style="background-color: #0000FF; color: #FFFFFF;">0.00%</td></tr>
    <tr><td headers="driver.nationality" class="gt_row gt_left">Swedish</td>
<td headers="NumberDrivers" class="gt_row gt_right">10</td>
<td headers="NumberFatalEvent" class="gt_row gt_right">1</td>
<td headers="FatalityRate" class="gt_row gt_right" style="background-color: #D9C08A; color: #000000;">10.00%</td></tr>
    <tr><td headers="driver.nationality" class="gt_row gt_left">Finnish</td>
<td headers="NumberDrivers" class="gt_row gt_right">9</td>
<td headers="NumberFatalEvent" class="gt_row gt_right">0</td>
<td headers="FatalityRate" class="gt_row gt_right" style="background-color: #0000FF; color: #FFFFFF;">0.00%</td></tr>
    <tr><td headers="driver.nationality" class="gt_row gt_left">Mexican</td>
<td headers="NumberDrivers" class="gt_row gt_right">6</td>
<td headers="NumberFatalEvent" class="gt_row gt_right">0</td>
<td headers="FatalityRate" class="gt_row gt_right" style="background-color: #0000FF; color: #FFFFFF;">0.00%</td></tr>
    <tr><td headers="driver.nationality" class="gt_row gt_left">Danish</td>
<td headers="NumberDrivers" class="gt_row gt_right">5</td>
<td headers="NumberFatalEvent" class="gt_row gt_right">0</td>
<td headers="FatalityRate" class="gt_row gt_right" style="background-color: #0000FF; color: #FFFFFF;">0.00%</td></tr>
    <tr><td headers="driver.nationality" class="gt_row gt_left">Irish</td>
<td headers="NumberDrivers" class="gt_row gt_right">5</td>
<td headers="NumberFatalEvent" class="gt_row gt_right">0</td>
<td headers="FatalityRate" class="gt_row gt_right" style="background-color: #0000FF; color: #FFFFFF;">0.00%</td></tr>
    <tr><td headers="driver.nationality" class="gt_row gt_left">Monegasque</td>
<td headers="NumberDrivers" class="gt_row gt_right">4</td>
<td headers="NumberFatalEvent" class="gt_row gt_right">0</td>
<td headers="FatalityRate" class="gt_row gt_right" style="background-color: #0000FF; color: #FFFFFF;">0.00%</td></tr>
    <tr><td headers="driver.nationality" class="gt_row gt_left">Portuguese</td>
<td headers="NumberDrivers" class="gt_row gt_right">4</td>
<td headers="NumberFatalEvent" class="gt_row gt_right">0</td>
<td headers="FatalityRate" class="gt_row gt_right" style="background-color: #0000FF; color: #FFFFFF;">0.00%</td></tr>
    <tr><td headers="driver.nationality" class="gt_row gt_left">Rhodesian</td>
<td headers="NumberDrivers" class="gt_row gt_right">4</td>
<td headers="NumberFatalEvent" class="gt_row gt_right">0</td>
<td headers="FatalityRate" class="gt_row gt_right" style="background-color: #0000FF; color: #FFFFFF;">0.00%</td></tr>
    <tr><td headers="driver.nationality" class="gt_row gt_left">Russian</td>
<td headers="NumberDrivers" class="gt_row gt_right">4</td>
<td headers="NumberFatalEvent" class="gt_row gt_right">0</td>
<td headers="FatalityRate" class="gt_row gt_right" style="background-color: #0000FF; color: #FFFFFF;">0.00%</td></tr>
    <tr><td headers="driver.nationality" class="gt_row gt_left">Uruguayan</td>
<td headers="NumberDrivers" class="gt_row gt_right">4</td>
<td headers="NumberFatalEvent" class="gt_row gt_right">0</td>
<td headers="FatalityRate" class="gt_row gt_right" style="background-color: #0000FF; color: #FFFFFF;">0.00%</td></tr>
    <tr><td headers="driver.nationality" class="gt_row gt_left">Colombian</td>
<td headers="NumberDrivers" class="gt_row gt_right">3</td>
<td headers="NumberFatalEvent" class="gt_row gt_right">0</td>
<td headers="FatalityRate" class="gt_row gt_right" style="background-color: #0000FF; color: #FFFFFF;">0.00%</td></tr>
    <tr><td headers="driver.nationality" class="gt_row gt_left">East German</td>
<td headers="NumberDrivers" class="gt_row gt_right">3</td>
<td headers="NumberFatalEvent" class="gt_row gt_right">0</td>
<td headers="FatalityRate" class="gt_row gt_right" style="background-color: #0000FF; color: #FFFFFF;">0.00%</td></tr>
    <tr><td headers="driver.nationality" class="gt_row gt_left">Venezuelan</td>
<td headers="NumberDrivers" class="gt_row gt_right">3</td>
<td headers="NumberFatalEvent" class="gt_row gt_right">0</td>
<td headers="FatalityRate" class="gt_row gt_right" style="background-color: #0000FF; color: #FFFFFF;">0.00%</td></tr>
    <tr><td headers="driver.nationality" class="gt_row gt_left">Indian</td>
<td headers="NumberDrivers" class="gt_row gt_right">2</td>
<td headers="NumberFatalEvent" class="gt_row gt_right">0</td>
<td headers="FatalityRate" class="gt_row gt_right" style="background-color: #0000FF; color: #FFFFFF;">0.00%</td></tr>
    <tr><td headers="driver.nationality" class="gt_row gt_left">Thai</td>
<td headers="NumberDrivers" class="gt_row gt_right">2</td>
<td headers="NumberFatalEvent" class="gt_row gt_right">0</td>
<td headers="FatalityRate" class="gt_row gt_right" style="background-color: #0000FF; color: #FFFFFF;">0.00%</td></tr>
    <tr><td headers="driver.nationality" class="gt_row gt_left">American-Italian</td>
<td headers="NumberDrivers" class="gt_row gt_right">1</td>
<td headers="NumberFatalEvent" class="gt_row gt_right">0</td>
<td headers="FatalityRate" class="gt_row gt_right" style="background-color: #0000FF; color: #FFFFFF;">0.00%</td></tr>
    <tr><td headers="driver.nationality" class="gt_row gt_left">Argentine-Italian</td>
<td headers="NumberDrivers" class="gt_row gt_right">1</td>
<td headers="NumberFatalEvent" class="gt_row gt_right">0</td>
<td headers="FatalityRate" class="gt_row gt_right" style="background-color: #0000FF; color: #FFFFFF;">0.00%</td></tr>
    <tr><td headers="driver.nationality" class="gt_row gt_left">Argentinian</td>
<td headers="NumberDrivers" class="gt_row gt_right">1</td>
<td headers="NumberFatalEvent" class="gt_row gt_right">0</td>
<td headers="FatalityRate" class="gt_row gt_right" style="background-color: #0000FF; color: #FFFFFF;">0.00%</td></tr>
    <tr><td headers="driver.nationality" class="gt_row gt_left">Chilean</td>
<td headers="NumberDrivers" class="gt_row gt_right">1</td>
<td headers="NumberFatalEvent" class="gt_row gt_right">0</td>
<td headers="FatalityRate" class="gt_row gt_right" style="background-color: #0000FF; color: #FFFFFF;">0.00%</td></tr>
    <tr><td headers="driver.nationality" class="gt_row gt_left">Chinese</td>
<td headers="NumberDrivers" class="gt_row gt_right">1</td>
<td headers="NumberFatalEvent" class="gt_row gt_right">0</td>
<td headers="FatalityRate" class="gt_row gt_right" style="background-color: #0000FF; color: #FFFFFF;">0.00%</td></tr>
    <tr><td headers="driver.nationality" class="gt_row gt_left">Czech</td>
<td headers="NumberDrivers" class="gt_row gt_right">1</td>
<td headers="NumberFatalEvent" class="gt_row gt_right">0</td>
<td headers="FatalityRate" class="gt_row gt_right" style="background-color: #0000FF; color: #FFFFFF;">0.00%</td></tr>
    <tr><td headers="driver.nationality" class="gt_row gt_left">Hungarian</td>
<td headers="NumberDrivers" class="gt_row gt_right">1</td>
<td headers="NumberFatalEvent" class="gt_row gt_right">0</td>
<td headers="FatalityRate" class="gt_row gt_right" style="background-color: #0000FF; color: #FFFFFF;">0.00%</td></tr>
    <tr><td headers="driver.nationality" class="gt_row gt_left">Indonesian</td>
<td headers="NumberDrivers" class="gt_row gt_right">1</td>
<td headers="NumberFatalEvent" class="gt_row gt_right">0</td>
<td headers="FatalityRate" class="gt_row gt_right" style="background-color: #0000FF; color: #FFFFFF;">0.00%</td></tr>
    <tr><td headers="driver.nationality" class="gt_row gt_left">Liechtensteiner</td>
<td headers="NumberDrivers" class="gt_row gt_right">1</td>
<td headers="NumberFatalEvent" class="gt_row gt_right">0</td>
<td headers="FatalityRate" class="gt_row gt_right" style="background-color: #0000FF; color: #FFFFFF;">0.00%</td></tr>
    <tr><td headers="driver.nationality" class="gt_row gt_left">Malaysian</td>
<td headers="NumberDrivers" class="gt_row gt_right">1</td>
<td headers="NumberFatalEvent" class="gt_row gt_right">0</td>
<td headers="FatalityRate" class="gt_row gt_right" style="background-color: #0000FF; color: #FFFFFF;">0.00%</td></tr>
    <tr><td headers="driver.nationality" class="gt_row gt_left">Polish</td>
<td headers="NumberDrivers" class="gt_row gt_right">1</td>
<td headers="NumberFatalEvent" class="gt_row gt_right">0</td>
<td headers="FatalityRate" class="gt_row gt_right" style="background-color: #0000FF; color: #FFFFFF;">0.00%</td></tr>
  </tbody>
  <tfoot>
    <tr class="gt_sourcenotes">
      <td class="gt_sourcenote" colspan="4"><span class='gt_from_md'><em>Fatality Rate = (Fatal Events / Number of Drivers) × 100</em></span></td>
    </tr>
  </tfoot>
</table>
</div>
<p><strong>Key Insights:</strong></p>
<ul>
<li>British drivers form the largest national group in F1 history,
followed by Italian and American drivers.</li>
<li>Several nationalities have never experienced a fatal incident, while
others have disproportionately high fatality rates.</li>
<li>The color-coding highlights risk patterns across different driver
nationalities, making it easy to identify high-risk groups.</li>
</ul>
</div>
</div>
<div id="circuit-analysis" class="section level2">
<h2>5. Circuit Analysis</h2>
<div id="global-map-of-formula-1-circuits-and-fatal-events"
class="section level3">
<h3>5.1 Global Map of Formula 1 Circuits and Fatal Events</h3>
<p>This map visualization shows the geographic distribution of Formula 1
circuits around the world, highlighting their safety records.</p>
<div class="column-page">
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="co"># Prepare circuit data</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a>circuit_data <span class="ot">&lt;-</span> dataOK <span class="sc">%&gt;%</span></span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a>  <span class="fu">group_by</span>(circuit.name, lng, lat) <span class="sc">%&gt;%</span></span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a>    <span class="at">NumberofRace =</span> <span class="fu">n_distinct</span>(Race),</span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a>    <span class="at">NumberFatalEvent =</span> <span class="fu">sum</span>(driver.fatal <span class="sc">==</span> <span class="st">&#39;Death&#39;</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb8-7"><a href="#cb8-7" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">&quot;drop&quot;</span></span>
<span id="cb8-8"><a href="#cb8-8" tabindex="-1"></a>  )</span>
<span id="cb8-9"><a href="#cb8-9" tabindex="-1"></a></span>
<span id="cb8-10"><a href="#cb8-10" tabindex="-1"></a><span class="co"># Prepare data for visualization</span></span>
<span id="cb8-11"><a href="#cb8-11" tabindex="-1"></a>circuit_data <span class="ot">&lt;-</span> circuit_data <span class="sc">%&gt;%</span></span>
<span id="cb8-12"><a href="#cb8-12" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb8-13"><a href="#cb8-13" tabindex="-1"></a>    <span class="co"># Calculate fatality ratio</span></span>
<span id="cb8-14"><a href="#cb8-14" tabindex="-1"></a>    <span class="at">FatalityRatio =</span> <span class="fu">ifelse</span>(NumberofRace <span class="sc">&gt;</span> <span class="dv">0</span>, NumberFatalEvent<span class="sc">/</span>NumberofRace, <span class="dv">0</span>),</span>
<span id="cb8-15"><a href="#cb8-15" tabindex="-1"></a>    <span class="co"># Categorize circuits for labeling</span></span>
<span id="cb8-16"><a href="#cb8-16" tabindex="-1"></a>    <span class="at">ImportanceScore =</span> (NumberofRace<span class="sc">/</span><span class="dv">10</span>) <span class="sc">+</span> (NumberFatalEvent<span class="sc">*</span><span class="dv">5</span>),</span>
<span id="cb8-17"><a href="#cb8-17" tabindex="-1"></a>    <span class="co"># Determine which circuits to label</span></span>
<span id="cb8-18"><a href="#cb8-18" tabindex="-1"></a>    <span class="at">LabelCircuit =</span> ImportanceScore <span class="sc">&gt;</span> <span class="dv">5</span> <span class="sc">|</span> NumberFatalEvent <span class="sc">&gt;</span> <span class="dv">1</span></span>
<span id="cb8-19"><a href="#cb8-19" tabindex="-1"></a>  )</span>
<span id="cb8-20"><a href="#cb8-20" tabindex="-1"></a></span>
<span id="cb8-21"><a href="#cb8-21" tabindex="-1"></a><span class="co"># Get world map data</span></span>
<span id="cb8-22"><a href="#cb8-22" tabindex="-1"></a>world_map <span class="ot">&lt;-</span> <span class="fu">map_data</span>(<span class="st">&quot;world&quot;</span>)</span>
<span id="cb8-23"><a href="#cb8-23" tabindex="-1"></a></span>
<span id="cb8-24"><a href="#cb8-24" tabindex="-1"></a><span class="co"># Create the visualization</span></span>
<span id="cb8-25"><a href="#cb8-25" tabindex="-1"></a>world_circuit_map <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb8-26"><a href="#cb8-26" tabindex="-1"></a>  <span class="co"># Add world map background</span></span>
<span id="cb8-27"><a href="#cb8-27" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">data =</span> world_map, </span>
<span id="cb8-28"><a href="#cb8-28" tabindex="-1"></a>               <span class="fu">aes</span>(<span class="at">x =</span> long, <span class="at">y =</span> lat, <span class="at">group =</span> group),</span>
<span id="cb8-29"><a href="#cb8-29" tabindex="-1"></a>               <span class="at">fill =</span> <span class="st">&quot;white&quot;</span>, <span class="at">color =</span> <span class="st">&quot;#e0e0e0&quot;</span>, <span class="at">size =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb8-30"><a href="#cb8-30" tabindex="-1"></a>  <span class="co"># Add circuit points</span></span>
<span id="cb8-31"><a href="#cb8-31" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> circuit_data,</span>
<span id="cb8-32"><a href="#cb8-32" tabindex="-1"></a>             <span class="fu">aes</span>(<span class="at">x =</span> lng, <span class="at">y =</span> lat, </span>
<span id="cb8-33"><a href="#cb8-33" tabindex="-1"></a>                 <span class="at">size =</span> NumberofRace,</span>
<span id="cb8-34"><a href="#cb8-34" tabindex="-1"></a>                 <span class="at">fill =</span> <span class="fu">factor</span>(NumberFatalEvent),</span>
<span id="cb8-35"><a href="#cb8-35" tabindex="-1"></a>                 <span class="at">alpha =</span> <span class="fl">0.9</span>),</span>
<span id="cb8-36"><a href="#cb8-36" tabindex="-1"></a>             <span class="at">shape =</span> <span class="dv">21</span>, <span class="at">color =</span> <span class="st">&quot;black&quot;</span>, <span class="at">stroke =</span> <span class="fl">0.3</span>) <span class="sc">+</span></span>
<span id="cb8-37"><a href="#cb8-37" tabindex="-1"></a>  <span class="co"># Add labels for important circuits</span></span>
<span id="cb8-38"><a href="#cb8-38" tabindex="-1"></a>  <span class="fu">geom_text_repel</span>(<span class="at">data =</span> <span class="fu">filter</span>(circuit_data, LabelCircuit),</span>
<span id="cb8-39"><a href="#cb8-39" tabindex="-1"></a>                <span class="fu">aes</span>(<span class="at">x =</span> lng, <span class="at">y =</span> lat, <span class="at">label =</span> circuit.name),</span>
<span id="cb8-40"><a href="#cb8-40" tabindex="-1"></a>                <span class="at">size =</span> <span class="dv">3</span>, </span>
<span id="cb8-41"><a href="#cb8-41" tabindex="-1"></a>                <span class="at">box.padding =</span> <span class="fl">0.5</span>, </span>
<span id="cb8-42"><a href="#cb8-42" tabindex="-1"></a>                <span class="at">point.padding =</span> <span class="fl">0.5</span>,</span>
<span id="cb8-43"><a href="#cb8-43" tabindex="-1"></a>                <span class="at">min.segment.length =</span> <span class="dv">0</span>,</span>
<span id="cb8-44"><a href="#cb8-44" tabindex="-1"></a>                <span class="at">max.overlaps =</span> <span class="dv">15</span>,</span>
<span id="cb8-45"><a href="#cb8-45" tabindex="-1"></a>                <span class="at">segment.color =</span> <span class="st">&quot;gray50&quot;</span>,</span>
<span id="cb8-46"><a href="#cb8-46" tabindex="-1"></a>                <span class="at">force =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb8-47"><a href="#cb8-47" tabindex="-1"></a>  <span class="co"># Custom fill scale for fatal events</span></span>
<span id="cb8-48"><a href="#cb8-48" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(</span>
<span id="cb8-49"><a href="#cb8-49" tabindex="-1"></a>    <span class="at">name =</span> <span class="st">&quot;Fatal Events&quot;</span>,</span>
<span id="cb8-50"><a href="#cb8-50" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;0&quot;</span> <span class="ot">=</span> <span class="st">&quot;blue&quot;</span>, <span class="st">&quot;1&quot;</span> <span class="ot">=</span> <span class="st">&quot;#ffb703&quot;</span>, <span class="st">&quot;2&quot;</span> <span class="ot">=</span> <span class="st">&quot;orange&quot;</span>, <span class="st">&quot;3&quot;</span> <span class="ot">=</span> <span class="st">&quot;red&quot;</span>),</span>
<span id="cb8-51"><a href="#cb8-51" tabindex="-1"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;None&quot;</span>, <span class="st">&quot;One&quot;</span>, <span class="st">&quot;Two&quot;</span>, <span class="st">&quot;Three&quot;</span>)</span>
<span id="cb8-52"><a href="#cb8-52" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb8-53"><a href="#cb8-53" tabindex="-1"></a>  <span class="co"># Custom size scale</span></span>
<span id="cb8-54"><a href="#cb8-54" tabindex="-1"></a>  <span class="fu">scale_size_continuous</span>(</span>
<span id="cb8-55"><a href="#cb8-55" tabindex="-1"></a>    <span class="at">name =</span> <span class="st">&quot;Number of Races&quot;</span>,</span>
<span id="cb8-56"><a href="#cb8-56" tabindex="-1"></a>    <span class="at">range =</span> <span class="fu">c</span>(<span class="fl">1.5</span>, <span class="dv">10</span>),</span>
<span id="cb8-57"><a href="#cb8-57" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">10</span>, <span class="dv">25</span>, <span class="dv">50</span>, <span class="dv">75</span>)</span>
<span id="cb8-58"><a href="#cb8-58" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb8-59"><a href="#cb8-59" tabindex="-1"></a>  <span class="co"># Hide alpha from legend</span></span>
<span id="cb8-60"><a href="#cb8-60" tabindex="-1"></a>  <span class="fu">guides</span>(<span class="at">alpha =</span> <span class="st">&quot;none&quot;</span>) <span class="sc">+</span></span>
<span id="cb8-61"><a href="#cb8-61" tabindex="-1"></a>  <span class="co"># Add titles and captions</span></span>
<span id="cb8-62"><a href="#cb8-62" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb8-63"><a href="#cb8-63" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Formula 1 Circuits Around the World&quot;</span>,</span>
<span id="cb8-64"><a href="#cb8-64" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;Size indicates number of races; color indicates fatal events&quot;</span>,</span>
<span id="cb8-65"><a href="#cb8-65" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">&quot;Data source: Formula 1 historical records (1950-2024)&quot;</span></span>
<span id="cb8-66"><a href="#cb8-66" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb8-67"><a href="#cb8-67" tabindex="-1"></a>  <span class="co"># Adjust theme</span></span>
<span id="cb8-68"><a href="#cb8-68" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb8-69"><a href="#cb8-69" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb8-70"><a href="#cb8-70" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">16</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb8-71"><a href="#cb8-71" tabindex="-1"></a>    <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">margin =</span> <span class="fu">margin</span>(<span class="at">b =</span> <span class="dv">20</span>)),</span>
<span id="cb8-72"><a href="#cb8-72" tabindex="-1"></a>    <span class="at">panel.grid.major =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">&quot;#e5e5e5&quot;</span>, <span class="at">size =</span> <span class="fl">0.2</span>),</span>
<span id="cb8-73"><a href="#cb8-73" tabindex="-1"></a>    <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb8-74"><a href="#cb8-74" tabindex="-1"></a>    <span class="at">axis.title =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb8-75"><a href="#cb8-75" tabindex="-1"></a>    <span class="at">axis.text =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb8-76"><a href="#cb8-76" tabindex="-1"></a>    <span class="at">axis.ticks =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb8-77"><a href="#cb8-77" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span>,</span>
<span id="cb8-78"><a href="#cb8-78" tabindex="-1"></a>    <span class="at">legend.box =</span> <span class="st">&quot;vertical&quot;</span>,</span>
<span id="cb8-79"><a href="#cb8-79" tabindex="-1"></a>    <span class="at">plot.margin =</span> <span class="fu">margin</span>(<span class="dv">10</span>, <span class="dv">10</span>, <span class="dv">10</span>, <span class="dv">10</span>)</span>
<span id="cb8-80"><a href="#cb8-80" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb8-81"><a href="#cb8-81" tabindex="-1"></a>  <span class="co"># Set appropriate map projection</span></span>
<span id="cb8-82"><a href="#cb8-82" tabindex="-1"></a>  <span class="fu">coord_fixed</span>(<span class="at">ratio =</span> <span class="fl">1.3</span>, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">150</span>, <span class="dv">150</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">60</span>, <span class="dv">80</span>))</span></code></pre></div>
<pre><code>## Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.
## ℹ Please use `linewidth` instead.
## This warning is displayed once every 8 hours.
## Call `lifecycle::last_lifecycle_warnings()` to see where this warning was generated.</code></pre>
<pre><code>## Warning: The `size` argument of `element_line()` is deprecated as of ggplot2 3.4.0.
## ℹ Please use the `linewidth` argument instead.
## This warning is displayed once every 8 hours.
## Call `lifecycle::last_lifecycle_warnings()` to see where this warning was generated.</code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="co"># Display the map</span></span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a>world_circuit_map</span></code></pre></div>
<pre><code>## Warning: ggrepel: 7 unlabeled data points (too many overlaps). Consider increasing max.overlaps</code></pre>
<p><img src="step2_EDAVIZ_files/figure-html/circuit-map-1.png" width="1152" />
:::{.column-page}</p>
<p><strong>Key Insights:</strong></p>
<ul>
<li>Formula 1 circuits are concentrated in Europe, with historic
European circuits (Monza, Spa-Francorchamps, Nürburgring) having higher
numbers of fatal events.</li>
<li>Newer circuits, particularly in Asia and the Middle East, have
excellent safety records.</li>
<li>The size of points reveals which circuits have hosted the most races
over time.</li>
</ul>
<div id="circuit-safety-records-table" class="section level3">
<h3>5.2 Circuit Safety Records Table</h3>
<p>This table provides detailed safety statistics for Formula 1
circuits.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="co"># Prepare data for the table</span></span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a>circuit_table_data <span class="ot">&lt;-</span> circuit_data <span class="sc">%&gt;%</span></span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a>  <span class="co"># Calculate fatality ratio</span></span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a>    <span class="at">FatalityRatio =</span> <span class="fu">ifelse</span>(NumberofRace <span class="sc">&gt;</span> <span class="dv">0</span>, </span>
<span id="cb13-6"><a href="#cb13-6" tabindex="-1"></a>                          <span class="fu">round</span>(NumberFatalEvent<span class="sc">/</span>NumberofRace<span class="sc">*</span><span class="dv">100</span>, <span class="dv">2</span>), <span class="dv">0</span>),</span>
<span id="cb13-7"><a href="#cb13-7" tabindex="-1"></a>    <span class="co"># Extract approximate location from coordinates</span></span>
<span id="cb13-8"><a href="#cb13-8" tabindex="-1"></a>    <span class="at">Location =</span> <span class="fu">paste0</span>(<span class="st">&quot;(&quot;</span>, <span class="fu">round</span>(lat, <span class="dv">1</span>), <span class="st">&quot;°, &quot;</span>, <span class="fu">round</span>(lng, <span class="dv">1</span>), <span class="st">&quot;°)&quot;</span>)</span>
<span id="cb13-9"><a href="#cb13-9" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb13-10"><a href="#cb13-10" tabindex="-1"></a>  <span class="co"># Select and rename relevant columns</span></span>
<span id="cb13-11"><a href="#cb13-11" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb13-12"><a href="#cb13-12" tabindex="-1"></a>    <span class="at">Circuit =</span> circuit.name,</span>
<span id="cb13-13"><a href="#cb13-13" tabindex="-1"></a>    Location,</span>
<span id="cb13-14"><a href="#cb13-14" tabindex="-1"></a>    <span class="at">Races =</span> NumberofRace, </span>
<span id="cb13-15"><a href="#cb13-15" tabindex="-1"></a>    <span class="st">`</span><span class="at">Fatal Events</span><span class="st">`</span> <span class="ot">=</span> NumberFatalEvent,</span>
<span id="cb13-16"><a href="#cb13-16" tabindex="-1"></a>    <span class="st">`</span><span class="at">Fatality Rate (%)</span><span class="st">`</span> <span class="ot">=</span> FatalityRatio</span>
<span id="cb13-17"><a href="#cb13-17" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb13-18"><a href="#cb13-18" tabindex="-1"></a>  <span class="co"># Sort by number of races in descending order</span></span>
<span id="cb13-19"><a href="#cb13-19" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Races))</span>
<span id="cb13-20"><a href="#cb13-20" tabindex="-1"></a></span>
<span id="cb13-21"><a href="#cb13-21" tabindex="-1"></a><span class="co"># Create the table</span></span>
<span id="cb13-22"><a href="#cb13-22" tabindex="-1"></a>circuit_safety_table <span class="ot">&lt;-</span> circuit_table_data <span class="sc">%&gt;%</span></span>
<span id="cb13-23"><a href="#cb13-23" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">%&gt;%</span></span>
<span id="cb13-24"><a href="#cb13-24" tabindex="-1"></a>  <span class="co"># Set table title and subtitle</span></span>
<span id="cb13-25"><a href="#cb13-25" tabindex="-1"></a>  <span class="fu">tab_header</span>(</span>
<span id="cb13-26"><a href="#cb13-26" tabindex="-1"></a>    <span class="at">title =</span> <span class="fu">md</span>(<span class="st">&quot;**Formula 1 Circuits and Safety Records**&quot;</span>),</span>
<span id="cb13-27"><a href="#cb13-27" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;Historical data on races and fatal events by circuit&quot;</span></span>
<span id="cb13-28"><a href="#cb13-28" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb13-29"><a href="#cb13-29" tabindex="-1"></a>  <span class="co"># Format number columns</span></span>
<span id="cb13-30"><a href="#cb13-30" tabindex="-1"></a>  <span class="fu">fmt_number</span>(</span>
<span id="cb13-31"><a href="#cb13-31" tabindex="-1"></a>    <span class="at">columns =</span> Races,</span>
<span id="cb13-32"><a href="#cb13-32" tabindex="-1"></a>    <span class="at">use_seps =</span> <span class="cn">TRUE</span>,</span>
<span id="cb13-33"><a href="#cb13-33" tabindex="-1"></a>    <span class="at">decimals =</span> <span class="dv">0</span></span>
<span id="cb13-34"><a href="#cb13-34" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb13-35"><a href="#cb13-35" tabindex="-1"></a>  <span class="fu">fmt_number</span>(</span>
<span id="cb13-36"><a href="#cb13-36" tabindex="-1"></a>    <span class="at">columns =</span> <span class="st">`</span><span class="at">Fatal Events</span><span class="st">`</span>,</span>
<span id="cb13-37"><a href="#cb13-37" tabindex="-1"></a>    <span class="at">use_seps =</span> <span class="cn">TRUE</span>,</span>
<span id="cb13-38"><a href="#cb13-38" tabindex="-1"></a>    <span class="at">decimals =</span> <span class="dv">0</span></span>
<span id="cb13-39"><a href="#cb13-39" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb13-40"><a href="#cb13-40" tabindex="-1"></a>  <span class="fu">fmt_number</span>(</span>
<span id="cb13-41"><a href="#cb13-41" tabindex="-1"></a>    <span class="at">columns =</span> <span class="st">`</span><span class="at">Fatality Rate (%)</span><span class="st">`</span>,</span>
<span id="cb13-42"><a href="#cb13-42" tabindex="-1"></a>    <span class="at">decimals =</span> <span class="dv">2</span></span>
<span id="cb13-43"><a href="#cb13-43" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb13-44"><a href="#cb13-44" tabindex="-1"></a>  <span class="co"># Highlight cells with fatal events</span></span>
<span id="cb13-45"><a href="#cb13-45" tabindex="-1"></a>  <span class="fu">tab_style</span>(</span>
<span id="cb13-46"><a href="#cb13-46" tabindex="-1"></a>    <span class="at">style =</span> <span class="fu">list</span>(</span>
<span id="cb13-47"><a href="#cb13-47" tabindex="-1"></a>      <span class="fu">cell_fill</span>(<span class="at">color =</span> <span class="st">&quot;#ffb7032a&quot;</span>)</span>
<span id="cb13-48"><a href="#cb13-48" tabindex="-1"></a>    ),</span>
<span id="cb13-49"><a href="#cb13-49" tabindex="-1"></a>    <span class="at">locations =</span> <span class="fu">cells_body</span>(</span>
<span id="cb13-50"><a href="#cb13-50" tabindex="-1"></a>      <span class="at">columns =</span> <span class="st">`</span><span class="at">Fatal Events</span><span class="st">`</span>,</span>
<span id="cb13-51"><a href="#cb13-51" tabindex="-1"></a>      <span class="at">rows =</span> <span class="st">`</span><span class="at">Fatal Events</span><span class="st">`</span> <span class="sc">&gt;</span> <span class="dv">0</span></span>
<span id="cb13-52"><a href="#cb13-52" tabindex="-1"></a>    )</span>
<span id="cb13-53"><a href="#cb13-53" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb13-54"><a href="#cb13-54" tabindex="-1"></a>  <span class="co"># Color coding for fatality rate</span></span>
<span id="cb13-55"><a href="#cb13-55" tabindex="-1"></a>  <span class="fu">data_color</span>(</span>
<span id="cb13-56"><a href="#cb13-56" tabindex="-1"></a>    <span class="at">columns =</span> <span class="st">`</span><span class="at">Fatality Rate (%)</span><span class="st">`</span>,</span>
<span id="cb13-57"><a href="#cb13-57" tabindex="-1"></a>    <span class="at">colors =</span> scales<span class="sc">::</span><span class="fu">col_numeric</span>(</span>
<span id="cb13-58"><a href="#cb13-58" tabindex="-1"></a>      <span class="at">palette =</span> <span class="fu">c</span>(<span class="st">&quot;white&quot;</span>, <span class="st">&quot;#ffb703&quot;</span>, <span class="st">&quot;red&quot;</span>),</span>
<span id="cb13-59"><a href="#cb13-59" tabindex="-1"></a>      <span class="at">domain =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">15</span>)</span>
<span id="cb13-60"><a href="#cb13-60" tabindex="-1"></a>    )</span>
<span id="cb13-61"><a href="#cb13-61" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb13-62"><a href="#cb13-62" tabindex="-1"></a>  <span class="co"># Style header</span></span>
<span id="cb13-63"><a href="#cb13-63" tabindex="-1"></a>  <span class="fu">tab_style</span>(</span>
<span id="cb13-64"><a href="#cb13-64" tabindex="-1"></a>    <span class="at">style =</span> <span class="fu">cell_text</span>(<span class="at">weight =</span> <span class="st">&quot;bold&quot;</span>),</span>
<span id="cb13-65"><a href="#cb13-65" tabindex="-1"></a>    <span class="at">locations =</span> <span class="fu">cells_column_labels</span>()</span>
<span id="cb13-66"><a href="#cb13-66" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb13-67"><a href="#cb13-67" tabindex="-1"></a>  <span class="co"># Add footnote</span></span>
<span id="cb13-68"><a href="#cb13-68" tabindex="-1"></a>  <span class="fu">tab_footnote</span>(</span>
<span id="cb13-69"><a href="#cb13-69" tabindex="-1"></a>    <span class="at">footnote =</span> <span class="st">&quot;Fatality Rate = (Fatal Events / Number of Races) × 100&quot;</span>,</span>
<span id="cb13-70"><a href="#cb13-70" tabindex="-1"></a>    <span class="at">locations =</span> <span class="fu">cells_column_labels</span>(<span class="at">columns =</span> <span class="st">`</span><span class="at">Fatality Rate (%)</span><span class="st">`</span>)</span>
<span id="cb13-71"><a href="#cb13-71" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb13-72"><a href="#cb13-72" tabindex="-1"></a>  <span class="co"># Optimize table appearance</span></span>
<span id="cb13-73"><a href="#cb13-73" tabindex="-1"></a>  <span class="fu">tab_options</span>(</span>
<span id="cb13-74"><a href="#cb13-74" tabindex="-1"></a>    <span class="at">heading.background.color =</span> <span class="st">&quot;#f0f0f0&quot;</span>,</span>
<span id="cb13-75"><a href="#cb13-75" tabindex="-1"></a>    <span class="at">column_labels.background.color =</span> <span class="st">&quot;#e0e0e0&quot;</span>,</span>
<span id="cb13-76"><a href="#cb13-76" tabindex="-1"></a>    <span class="at">table.border.top.style =</span> <span class="st">&quot;hidden&quot;</span>,</span>
<span id="cb13-77"><a href="#cb13-77" tabindex="-1"></a>    <span class="at">table.border.bottom.style =</span> <span class="st">&quot;hidden&quot;</span>,</span>
<span id="cb13-78"><a href="#cb13-78" tabindex="-1"></a>    <span class="at">column_labels.border.top.style =</span> <span class="st">&quot;solid&quot;</span>,</span>
<span id="cb13-79"><a href="#cb13-79" tabindex="-1"></a>    <span class="at">column_labels.border.top.width =</span> <span class="fu">px</span>(<span class="dv">2</span>),</span>
<span id="cb13-80"><a href="#cb13-80" tabindex="-1"></a>    <span class="at">column_labels.border.top.color =</span> <span class="st">&quot;#404040&quot;</span>,</span>
<span id="cb13-81"><a href="#cb13-81" tabindex="-1"></a>    <span class="at">table_body.hlines.color =</span> <span class="st">&quot;#f0f0f0&quot;</span>,</span>
<span id="cb13-82"><a href="#cb13-82" tabindex="-1"></a>    <span class="at">table_body.border.bottom.color =</span> <span class="st">&quot;#404040&quot;</span>,</span>
<span id="cb13-83"><a href="#cb13-83" tabindex="-1"></a>    <span class="at">footnotes.border.bottom.color =</span> <span class="st">&quot;#404040&quot;</span>,</span>
<span id="cb13-84"><a href="#cb13-84" tabindex="-1"></a>    <span class="at">source_notes.border.bottom.color =</span> <span class="st">&quot;#404040&quot;</span>,</span>
<span id="cb13-85"><a href="#cb13-85" tabindex="-1"></a>    <span class="at">footnotes.padding =</span> <span class="fu">px</span>(<span class="dv">5</span>),</span>
<span id="cb13-86"><a href="#cb13-86" tabindex="-1"></a>    <span class="at">source_notes.padding =</span> <span class="fu">px</span>(<span class="dv">5</span>)</span>
<span id="cb13-87"><a href="#cb13-87" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## Warning: Some values were outside the color scale and will be treated as NA</code></pre>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="co"># Display the table</span></span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a>circuit_safety_table</span></code></pre></div>
<div id="buysznsafj" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#buysznsafj table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#buysznsafj thead, #buysznsafj tbody, #buysznsafj tfoot, #buysznsafj tr, #buysznsafj td, #buysznsafj th {
  border-style: none;
}

#buysznsafj p {
  margin: 0;
  padding: 0;
}

#buysznsafj .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: hidden;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: hidden;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#buysznsafj .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#buysznsafj .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#buysznsafj .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#buysznsafj .gt_heading {
  background-color: #F0F0F0;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#buysznsafj .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#buysznsafj .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #404040;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#buysznsafj .gt_col_heading {
  color: #333333;
  background-color: #E0E0E0;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#buysznsafj .gt_column_spanner_outer {
  color: #333333;
  background-color: #E0E0E0;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#buysznsafj .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#buysznsafj .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#buysznsafj .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#buysznsafj .gt_spanner_row {
  border-bottom-style: hidden;
}

#buysznsafj .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#buysznsafj .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#buysznsafj .gt_from_md > :first-child {
  margin-top: 0;
}

#buysznsafj .gt_from_md > :last-child {
  margin-bottom: 0;
}

#buysznsafj .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #F0F0F0;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#buysznsafj .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#buysznsafj .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#buysznsafj .gt_row_group_first td {
  border-top-width: 2px;
}

#buysznsafj .gt_row_group_first th {
  border-top-width: 2px;
}

#buysznsafj .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#buysznsafj .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#buysznsafj .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#buysznsafj .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#buysznsafj .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#buysznsafj .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#buysznsafj .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#buysznsafj .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#buysznsafj .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #404040;
}

#buysznsafj .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #404040;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#buysznsafj .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 5px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
}

#buysznsafj .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #404040;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#buysznsafj .gt_sourcenote {
  font-size: 90%;
  padding-top: 5px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
}

#buysznsafj .gt_left {
  text-align: left;
}

#buysznsafj .gt_center {
  text-align: center;
}

#buysznsafj .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#buysznsafj .gt_font_normal {
  font-weight: normal;
}

#buysznsafj .gt_font_bold {
  font-weight: bold;
}

#buysznsafj .gt_font_italic {
  font-style: italic;
}

#buysznsafj .gt_super {
  font-size: 65%;
}

#buysznsafj .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#buysznsafj .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#buysznsafj .gt_indent_1 {
  text-indent: 5px;
}

#buysznsafj .gt_indent_2 {
  text-indent: 10px;
}

#buysznsafj .gt_indent_3 {
  text-indent: 15px;
}

#buysznsafj .gt_indent_4 {
  text-indent: 20px;
}

#buysznsafj .gt_indent_5 {
  text-indent: 25px;
}

#buysznsafj .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#buysznsafj div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_heading">
      <td colspan="5" class="gt_heading gt_title gt_font_normal" style><span class='gt_from_md'><strong>Formula 1 Circuits and Safety Records</strong></span></td>
    </tr>
    <tr class="gt_heading">
      <td colspan="5" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style>Historical data on races and fatal events by circuit</td>
    </tr>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" style="font-weight: bold;" scope="col" id="Circuit">Circuit</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" style="font-weight: bold;" scope="col" id="Location">Location</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" style="font-weight: bold;" scope="col" id="Races">Races</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" style="font-weight: bold;" scope="col" id="Fatal-Events">Fatal Events</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" style="font-weight: bold;" scope="col" id="Fatality-Rate-(%)">Fatality Rate (%)<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span></th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="Circuit" class="gt_row gt_left">Autodromo Nazionale di Monza</td>
<td headers="Location" class="gt_row gt_left">(45.6°, 9.3°)</td>
<td headers="Races" class="gt_row gt_right">74</td>
<td headers="Fatal Events" class="gt_row gt_right" style="background-color: rgba(255,183,3,0.16);">3</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFD78B; color: #000000;">4.05</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Circuit de Monaco</td>
<td headers="Location" class="gt_row gt_left">(43.7°, 7.4°)</td>
<td headers="Races" class="gt_row gt_right">70</td>
<td headers="Fatal Events" class="gt_row gt_right" style="background-color: rgba(255,183,3,0.16);">1</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFF1D6; color: #000000;">1.43</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Silverstone Circuit</td>
<td headers="Location" class="gt_row gt_left">(52.1°, -1°)</td>
<td headers="Races" class="gt_row gt_right">59</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Circuit de Spa-Francorchamps</td>
<td headers="Location" class="gt_row gt_left">(50.4°, 6°)</td>
<td headers="Races" class="gt_row gt_right">57</td>
<td headers="Fatal Events" class="gt_row gt_right" style="background-color: rgba(255,183,3,0.16);">2</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFDC9A; color: #000000;">3.51</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Circuit Gilles Villeneuve</td>
<td headers="Location" class="gt_row gt_left">(45.5°, -73.5°)</td>
<td headers="Races" class="gt_row gt_right">43</td>
<td headers="Fatal Events" class="gt_row gt_right" style="background-color: rgba(255,183,3,0.16);">1</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFE8BC; color: #000000;">2.33</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Autódromo José Carlos Pace</td>
<td headers="Location" class="gt_row gt_left">(-23.7°, -46.7°)</td>
<td headers="Races" class="gt_row gt_right">41</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Nürburgring</td>
<td headers="Location" class="gt_row gt_left">(50.3°, 6.9°)</td>
<td headers="Races" class="gt_row gt_right">41</td>
<td headers="Fatal Events" class="gt_row gt_right" style="background-color: rgba(255,183,3,0.16);">3</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFB916; color: #000000;">7.32</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Hungaroring</td>
<td headers="Location" class="gt_row gt_left">(47.6°, 19.2°)</td>
<td headers="Races" class="gt_row gt_right">39</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Red Bull Ring</td>
<td headers="Location" class="gt_row gt_left">(47.2°, 14.8°)</td>
<td headers="Races" class="gt_row gt_right">38</td>
<td headers="Fatal Events" class="gt_row gt_right" style="background-color: rgba(255,183,3,0.16);">1</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFE5B4; color: #000000;">2.63</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Hockenheimring</td>
<td headers="Location" class="gt_row gt_left">(49.3°, 8.6°)</td>
<td headers="Races" class="gt_row gt_right">37</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Circuit Park Zandvoort</td>
<td headers="Location" class="gt_row gt_left">(52.4°, 4.5°)</td>
<td headers="Races" class="gt_row gt_right">34</td>
<td headers="Fatal Events" class="gt_row gt_right" style="background-color: rgba(255,183,3,0.16);">2</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFC654; color: #000000;">5.88</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Circuit de Barcelona-Catalunya</td>
<td headers="Location" class="gt_row gt_left">(41.6°, 2.3°)</td>
<td headers="Races" class="gt_row gt_right">34</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Suzuka Circuit</td>
<td headers="Location" class="gt_row gt_left">(34.8°, 136.5°)</td>
<td headers="Races" class="gt_row gt_right">34</td>
<td headers="Fatal Events" class="gt_row gt_right" style="background-color: rgba(255,183,3,0.16);">1</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFE2AB; color: #000000;">2.94</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Autodromo Enzo e Dino Ferrari</td>
<td headers="Location" class="gt_row gt_left">(44.3°, 11.7°)</td>
<td headers="Races" class="gt_row gt_right">31</td>
<td headers="Fatal Events" class="gt_row gt_right" style="background-color: rgba(255,183,3,0.16);">2</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFC140; color: #000000;">6.45</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Albert Park Grand Prix Circuit</td>
<td headers="Location" class="gt_row gt_left">(-37.8°, 145°)</td>
<td headers="Races" class="gt_row gt_right">27</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Autódromo Hermanos Rodríguez</td>
<td headers="Location" class="gt_row gt_left">(19.4°, -99.1°)</td>
<td headers="Races" class="gt_row gt_right">24</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Bahrain International Circuit</td>
<td headers="Location" class="gt_row gt_left">(26°, 50.5°)</td>
<td headers="Races" class="gt_row gt_right">21</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Autódromo Juan y Oscar Gálvez</td>
<td headers="Location" class="gt_row gt_left">(-34.7°, -58.5°)</td>
<td headers="Races" class="gt_row gt_right">20</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Kyalami</td>
<td headers="Location" class="gt_row gt_left">(-26°, 28.1°)</td>
<td headers="Races" class="gt_row gt_right">20</td>
<td headers="Fatal Events" class="gt_row gt_right" style="background-color: rgba(255,183,3,0.16);">1</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFCE6F; color: #000000;">5.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Watkins Glen</td>
<td headers="Location" class="gt_row gt_left">(42.3°, -76.9°)</td>
<td headers="Races" class="gt_row gt_right">20</td>
<td headers="Fatal Events" class="gt_row gt_right" style="background-color: rgba(255,183,3,0.16);">2</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FF8F00; color: #000000;">10.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Indianapolis Motor Speedway</td>
<td headers="Location" class="gt_row gt_left">(39.8°, -86.2°)</td>
<td headers="Races" class="gt_row gt_right">19</td>
<td headers="Fatal Events" class="gt_row gt_right" style="background-color: rgba(255,183,3,0.16);">2</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FF8600; color: #000000;">10.53</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Sepang International Circuit</td>
<td headers="Location" class="gt_row gt_left">(2.8°, 101.7°)</td>
<td headers="Races" class="gt_row gt_right">19</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Circuit Paul Ricard</td>
<td headers="Location" class="gt_row gt_left">(43.3°, 5.8°)</td>
<td headers="Races" class="gt_row gt_right">18</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Circuit de Nevers Magny-Cours</td>
<td headers="Location" class="gt_row gt_left">(46.9°, 3.2°)</td>
<td headers="Races" class="gt_row gt_right">18</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Shanghai International Circuit</td>
<td headers="Location" class="gt_row gt_left">(31.3°, 121.2°)</td>
<td headers="Races" class="gt_row gt_right">17</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Yas Marina Circuit</td>
<td headers="Location" class="gt_row gt_left">(24.5°, 54.6°)</td>
<td headers="Races" class="gt_row gt_right">16</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Marina Bay Street Circuit</td>
<td headers="Location" class="gt_row gt_left">(1.3°, 103.9°)</td>
<td headers="Races" class="gt_row gt_right">15</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Brands Hatch</td>
<td headers="Location" class="gt_row gt_left">(51.4°, 0.3°)</td>
<td headers="Races" class="gt_row gt_right">14</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Autódromo do Estoril</td>
<td headers="Location" class="gt_row gt_left">(38.8°, -9.4°)</td>
<td headers="Races" class="gt_row gt_right">13</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Circuit of the Americas</td>
<td headers="Location" class="gt_row gt_left">(30.1°, -97.6°)</td>
<td headers="Races" class="gt_row gt_right">12</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Adelaide Street Circuit</td>
<td headers="Location" class="gt_row gt_left">(-34.9°, 138.6°)</td>
<td headers="Races" class="gt_row gt_right">11</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Reims-Gueux</td>
<td headers="Location" class="gt_row gt_left">(49.3°, 3.9°)</td>
<td headers="Races" class="gt_row gt_right">11</td>
<td headers="Fatal Events" class="gt_row gt_right" style="background-color: rgba(255,183,3,0.16);">1</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FF9E00; color: #000000;">9.09</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Autódromo Internacional Nelson Piquet</td>
<td headers="Location" class="gt_row gt_left">(-23°, -43.4°)</td>
<td headers="Races" class="gt_row gt_right">10</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Zolder</td>
<td headers="Location" class="gt_row gt_left">(51°, 5.3°)</td>
<td headers="Races" class="gt_row gt_right">10</td>
<td headers="Fatal Events" class="gt_row gt_right" style="background-color: rgba(255,183,3,0.16);">1</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FF8F00; color: #000000;">10.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Istanbul Park</td>
<td headers="Location" class="gt_row gt_left">(41°, 29.4°)</td>
<td headers="Races" class="gt_row gt_right">9</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Jarama</td>
<td headers="Location" class="gt_row gt_left">(40.6°, -3.6°)</td>
<td headers="Races" class="gt_row gt_right">9</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Baku City Circuit</td>
<td headers="Location" class="gt_row gt_left">(40.4°, 49.9°)</td>
<td headers="Races" class="gt_row gt_right">8</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Long Beach</td>
<td headers="Location" class="gt_row gt_left">(33.8°, -118.2°)</td>
<td headers="Races" class="gt_row gt_right">8</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Mosport International Raceway</td>
<td headers="Location" class="gt_row gt_left">(44°, -78.7°)</td>
<td headers="Races" class="gt_row gt_right">8</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Sochi Autodrom</td>
<td headers="Location" class="gt_row gt_left">(43.4°, 40°)</td>
<td headers="Races" class="gt_row gt_right">8</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Circuito de Jerez</td>
<td headers="Location" class="gt_row gt_left">(36.7°, -6°)</td>
<td headers="Races" class="gt_row gt_right">7</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Detroit Street Circuit</td>
<td headers="Location" class="gt_row gt_left">(42.3°, -83°)</td>
<td headers="Races" class="gt_row gt_right">7</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Dijon-Prenois</td>
<td headers="Location" class="gt_row gt_left">(47.4°, 4.9°)</td>
<td headers="Races" class="gt_row gt_right">6</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Scandinavian Raceway</td>
<td headers="Location" class="gt_row gt_left">(57.3°, 13.6°)</td>
<td headers="Races" class="gt_row gt_right">6</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Aintree</td>
<td headers="Location" class="gt_row gt_left">(53.5°, -2.9°)</td>
<td headers="Races" class="gt_row gt_right">5</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Circuit Bremgarten</td>
<td headers="Location" class="gt_row gt_left">(47°, 7.4°)</td>
<td headers="Races" class="gt_row gt_right">5</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Rouen-Les-Essarts</td>
<td headers="Location" class="gt_row gt_left">(49.3°, 1°)</td>
<td headers="Races" class="gt_row gt_right">5</td>
<td headers="Fatal Events" class="gt_row gt_right" style="background-color: rgba(255,183,3,0.16);">1</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #808080; color: #FFFFFF;">20.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Valencia Street Circuit</td>
<td headers="Location" class="gt_row gt_left">(39.5°, -0.3°)</td>
<td headers="Races" class="gt_row gt_right">5</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Charade Circuit</td>
<td headers="Location" class="gt_row gt_left">(45.7°, 3°)</td>
<td headers="Races" class="gt_row gt_right">4</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Fuji Speedway</td>
<td headers="Location" class="gt_row gt_left">(35.4°, 138.9°)</td>
<td headers="Races" class="gt_row gt_right">4</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Jeddah Corniche Circuit</td>
<td headers="Location" class="gt_row gt_left">(21.6°, 39.1°)</td>
<td headers="Races" class="gt_row gt_right">4</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Korean International Circuit</td>
<td headers="Location" class="gt_row gt_left">(34.7°, 126.4°)</td>
<td headers="Races" class="gt_row gt_right">4</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Montjuïc</td>
<td headers="Location" class="gt_row gt_left">(41.4°, 2.2°)</td>
<td headers="Races" class="gt_row gt_right">4</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Buddh International Circuit</td>
<td headers="Location" class="gt_row gt_left">(28.3°, 77.5°)</td>
<td headers="Races" class="gt_row gt_right">3</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Losail International Circuit</td>
<td headers="Location" class="gt_row gt_left">(25.5°, 51.5°)</td>
<td headers="Races" class="gt_row gt_right">3</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Miami International Autodrome</td>
<td headers="Location" class="gt_row gt_left">(26°, -80.2°)</td>
<td headers="Races" class="gt_row gt_right">3</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Phoenix street circuit</td>
<td headers="Location" class="gt_row gt_left">(33.4°, -112.1°)</td>
<td headers="Races" class="gt_row gt_right">3</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Prince George Circuit</td>
<td headers="Location" class="gt_row gt_left">(-33°, 27.9°)</td>
<td headers="Races" class="gt_row gt_right">3</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Autódromo Internacional do Algarve</td>
<td headers="Location" class="gt_row gt_left">(37.2°, -8.6°)</td>
<td headers="Races" class="gt_row gt_right">2</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Circuit Mont-Tremblant</td>
<td headers="Location" class="gt_row gt_left">(46.2°, -74.6°)</td>
<td headers="Races" class="gt_row gt_right">2</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Circuit de Pedralbes</td>
<td headers="Location" class="gt_row gt_left">(41.4°, 2.1°)</td>
<td headers="Races" class="gt_row gt_right">2</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Circuito da Boavista</td>
<td headers="Location" class="gt_row gt_left">(41.2°, -8.7°)</td>
<td headers="Races" class="gt_row gt_right">2</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Las Vegas Street Circuit</td>
<td headers="Location" class="gt_row gt_left">(36.1°, -115.2°)</td>
<td headers="Races" class="gt_row gt_right">2</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Las Vegas Strip Street Circuit</td>
<td headers="Location" class="gt_row gt_left">(36.1°, -115.2°)</td>
<td headers="Races" class="gt_row gt_right">2</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Nivelles-Baulers</td>
<td headers="Location" class="gt_row gt_left">(50.6°, 4.3°)</td>
<td headers="Races" class="gt_row gt_right">2</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Okayama International Circuit</td>
<td headers="Location" class="gt_row gt_left">(34.9°, 134.2°)</td>
<td headers="Races" class="gt_row gt_right">2</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">AVUS</td>
<td headers="Location" class="gt_row gt_left">(52.5°, 13.3°)</td>
<td headers="Races" class="gt_row gt_right">1</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Ain Diab</td>
<td headers="Location" class="gt_row gt_left">(33.6°, -7.7°)</td>
<td headers="Races" class="gt_row gt_right">1</td>
<td headers="Fatal Events" class="gt_row gt_right" style="background-color: rgba(255,183,3,0.16);">1</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #808080; color: #FFFFFF;">100.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Autodromo Internazionale del Mugello</td>
<td headers="Location" class="gt_row gt_left">(44°, 11.4°)</td>
<td headers="Races" class="gt_row gt_right">1</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Donington Park</td>
<td headers="Location" class="gt_row gt_left">(52.8°, -1.4°)</td>
<td headers="Races" class="gt_row gt_right">1</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Fair Park</td>
<td headers="Location" class="gt_row gt_left">(32.8°, -96.8°)</td>
<td headers="Races" class="gt_row gt_right">1</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Le Mans</td>
<td headers="Location" class="gt_row gt_left">(48°, 0.2°)</td>
<td headers="Races" class="gt_row gt_right">1</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Monsanto Park Circuit</td>
<td headers="Location" class="gt_row gt_left">(38.7°, -9.2°)</td>
<td headers="Races" class="gt_row gt_right">1</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Pescara Circuit</td>
<td headers="Location" class="gt_row gt_left">(42.5°, 14.2°)</td>
<td headers="Races" class="gt_row gt_right">1</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Riverside International Raceway</td>
<td headers="Location" class="gt_row gt_left">(33.9°, -117.3°)</td>
<td headers="Races" class="gt_row gt_right">1</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Sebring International Raceway</td>
<td headers="Location" class="gt_row gt_left">(27.5°, -81.3°)</td>
<td headers="Races" class="gt_row gt_right">1</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
    <tr><td headers="Circuit" class="gt_row gt_left">Zeltweg</td>
<td headers="Location" class="gt_row gt_left">(47.2°, 14.7°)</td>
<td headers="Races" class="gt_row gt_right">1</td>
<td headers="Fatal Events" class="gt_row gt_right">0</td>
<td headers="Fatality Rate (%)" class="gt_row gt_right" style="background-color: #FFFFFF; color: #000000;">0.00</td></tr>
  </tbody>
  <tfoot>
    <tr class="gt_footnotes">
      <td class="gt_footnote" colspan="5"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;line-height:0;"><sup>1</sup></span> Fatality Rate = (Fatal Events / Number of Races) × 100</td>
    </tr>
  </tfoot>
</table>
</div>
<p><strong>Key Insights:</strong></p>
<ul>
<li>Monza has hosted the most F1 races historically, followed by Monaco,
with varying safety records.</li>
<li>Several circuits have hosted numerous races without any fatal
incidents, demonstrating consistent safety standards.</li>
<li>The color-coding effectively highlights the circuits with concerning
safety records at a glance.</li>
</ul>
</div>
<div id="driver-age-and-experience-analysis" class="section level2">
<h2>6. Driver Age and Experience Analysis</h2>
<p>This visualization examines the relationship between driver age and
fatal incidents.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="co"># Calculate driver age at each race</span></span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a>driver_age_experience <span class="ot">&lt;-</span> dataOK <span class="sc">%&gt;%</span></span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb16-4"><a href="#cb16-4" tabindex="-1"></a>    <span class="at">driver_age =</span> <span class="fu">as.numeric</span>(<span class="fu">difftime</span>(<span class="fu">as.Date</span>(date), <span class="fu">as.Date</span>(driver.dob), <span class="at">units =</span> <span class="st">&quot;days&quot;</span>) <span class="sc">/</span> <span class="dv">365</span>)</span>
<span id="cb16-5"><a href="#cb16-5" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb16-6"><a href="#cb16-6" tabindex="-1"></a>  <span class="co"># Flag fatal events</span></span>
<span id="cb16-7"><a href="#cb16-7" tabindex="-1"></a>  <span class="fu">group_by</span>(driver.name) <span class="sc">%&gt;%</span></span>
<span id="cb16-8"><a href="#cb16-8" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb16-9"><a href="#cb16-9" tabindex="-1"></a>    <span class="at">fatal_event =</span> driver.fatal <span class="sc">==</span> <span class="st">&quot;Death&quot;</span></span>
<span id="cb16-10"><a href="#cb16-10" tabindex="-1"></a>  )</span>
<span id="cb16-11"><a href="#cb16-11" tabindex="-1"></a></span>
<span id="cb16-12"><a href="#cb16-12" tabindex="-1"></a><span class="co"># Create fatal events dataset</span></span>
<span id="cb16-13"><a href="#cb16-13" tabindex="-1"></a>fatal_driver_events <span class="ot">&lt;-</span> driver_age_experience <span class="sc">%&gt;%</span></span>
<span id="cb16-14"><a href="#cb16-14" tabindex="-1"></a>  <span class="fu">filter</span>(fatal_event <span class="sc">==</span> <span class="cn">TRUE</span>)</span>
<span id="cb16-15"><a href="#cb16-15" tabindex="-1"></a></span>
<span id="cb16-16"><a href="#cb16-16" tabindex="-1"></a><span class="co"># Create overall distribution dataset for comparison</span></span>
<span id="cb16-17"><a href="#cb16-17" tabindex="-1"></a>driver_age_summary <span class="ot">&lt;-</span> driver_age_experience <span class="sc">%&gt;%</span></span>
<span id="cb16-18"><a href="#cb16-18" tabindex="-1"></a>  <span class="fu">group_by</span>(driver.name) <span class="sc">%&gt;%</span></span>
<span id="cb16-19"><a href="#cb16-19" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb16-20"><a href="#cb16-20" tabindex="-1"></a>    <span class="at">avg_age =</span> <span class="fu">mean</span>(driver_age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb16-21"><a href="#cb16-21" tabindex="-1"></a>    <span class="at">fatal_incident =</span> <span class="fu">any</span>(fatal_event),</span>
<span id="cb16-22"><a href="#cb16-22" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">&quot;drop&quot;</span></span>
<span id="cb16-23"><a href="#cb16-23" tabindex="-1"></a>  )</span>
<span id="cb16-24"><a href="#cb16-24" tabindex="-1"></a></span>
<span id="cb16-25"><a href="#cb16-25" tabindex="-1"></a><span class="co"># Create age distribution plot</span></span>
<span id="cb16-26"><a href="#cb16-26" tabindex="-1"></a>driver_age_distribution <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb16-27"><a href="#cb16-27" tabindex="-1"></a>  <span class="co"># Add density plot for all drivers</span></span>
<span id="cb16-28"><a href="#cb16-28" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">data =</span> driver_age_summary, </span>
<span id="cb16-29"><a href="#cb16-29" tabindex="-1"></a>               <span class="fu">aes</span>(<span class="at">x =</span> avg_age, <span class="at">fill =</span> <span class="st">&quot;All Drivers&quot;</span>), <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb16-30"><a href="#cb16-30" tabindex="-1"></a>  <span class="co"># Add density plot for drivers with fatal incidents</span></span>
<span id="cb16-31"><a href="#cb16-31" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">data =</span> <span class="fu">filter</span>(driver_age_summary, fatal_incident <span class="sc">==</span> <span class="cn">TRUE</span>), </span>
<span id="cb16-32"><a href="#cb16-32" tabindex="-1"></a>               <span class="fu">aes</span>(<span class="at">x =</span> avg_age, <span class="at">fill =</span> <span class="st">&quot;Drivers with Fatal Incidents&quot;</span>), <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb16-33"><a href="#cb16-33" tabindex="-1"></a>  <span class="co"># Add individual points for fatal events</span></span>
<span id="cb16-34"><a href="#cb16-34" tabindex="-1"></a>  <span class="fu">geom_rug</span>(<span class="at">data =</span> fatal_driver_events, <span class="fu">aes</span>(<span class="at">x =</span> driver_age), <span class="at">color =</span> <span class="st">&quot;red&quot;</span>, <span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb16-35"><a href="#cb16-35" tabindex="-1"></a>  <span class="co"># Styling</span></span>
<span id="cb16-36"><a href="#cb16-36" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;All Drivers&quot;</span> <span class="ot">=</span> <span class="st">&quot;blue&quot;</span>, <span class="st">&quot;Drivers with Fatal Incidents&quot;</span> <span class="ot">=</span> <span class="st">&quot;red&quot;</span>)) <span class="sc">+</span></span>
<span id="cb16-37"><a href="#cb16-37" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb16-38"><a href="#cb16-38" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Age Distribution of F1 Drivers and Fatal Incidents&quot;</span>,</span>
<span id="cb16-39"><a href="#cb16-39" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;Comparing age profiles of all drivers vs. those involved in fatal incidents&quot;</span>,</span>
<span id="cb16-40"><a href="#cb16-40" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Driver Age (years)&quot;</span>,</span>
<span id="cb16-41"><a href="#cb16-41" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Density&quot;</span>,</span>
<span id="cb16-42"><a href="#cb16-42" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">&quot;Driver Group&quot;</span></span>
<span id="cb16-43"><a href="#cb16-43" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb16-44"><a href="#cb16-44" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb16-45"><a href="#cb16-45" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb16-46"><a href="#cb16-46" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">14</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>),</span>
<span id="cb16-47"><a href="#cb16-47" tabindex="-1"></a>    <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb16-48"><a href="#cb16-48" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span></span>
<span id="cb16-49"><a href="#cb16-49" tabindex="-1"></a>  )</span>
<span id="cb16-50"><a href="#cb16-50" tabindex="-1"></a></span>
<span id="cb16-51"><a href="#cb16-51" tabindex="-1"></a><span class="co"># Display the plot</span></span>
<span id="cb16-52"><a href="#cb16-52" tabindex="-1"></a>driver_age_distribution</span></code></pre></div>
<p><img src="step2_EDAVIZ_files/figure-html/driver-age-analysis-1.png" width="960" /></p>
<p><strong>Key Insights:</strong></p>
<ul>
<li>The age distribution of drivers involved in fatal incidents differs
from the overall driver population.</li>
<li>Individual fatal events (shown by the red rug marks) reveal specific
age patterns that may indicate higher-risk age groups.</li>
<li>The density curves show how the risk profile changes across the age
spectrum.</li>
</ul>
</div>
<div id="safety-evolution-by-decade" class="section level2">
<h2>7. Safety Evolution by Decade</h2>
<p>This visualization shows how Formula 1 safety has improved over time
by examining fatality rates by decade.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="co"># Create decade analysis</span></span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a>safety_by_decade <span class="ot">&lt;-</span> dataOK <span class="sc">%&gt;%</span></span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb17-4"><a href="#cb17-4" tabindex="-1"></a>    <span class="at">decade =</span> <span class="fu">paste0</span>(<span class="fu">floor</span>(year<span class="sc">/</span><span class="dv">10</span>) <span class="sc">*</span> <span class="dv">10</span>, <span class="st">&quot;s&quot;</span>),  <span class="co"># Create decade categories</span></span>
<span id="cb17-5"><a href="#cb17-5" tabindex="-1"></a>    <span class="at">fatal_event =</span> driver.fatal <span class="sc">==</span> <span class="st">&quot;Death&quot;</span></span>
<span id="cb17-6"><a href="#cb17-6" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb17-7"><a href="#cb17-7" tabindex="-1"></a>  <span class="fu">group_by</span>(decade) <span class="sc">%&gt;%</span></span>
<span id="cb17-8"><a href="#cb17-8" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb17-9"><a href="#cb17-9" tabindex="-1"></a>    <span class="at">total_races =</span> <span class="fu">n_distinct</span>(Race),</span>
<span id="cb17-10"><a href="#cb17-10" tabindex="-1"></a>    <span class="at">unique_drivers =</span> <span class="fu">n_distinct</span>(driver.name),</span>
<span id="cb17-11"><a href="#cb17-11" tabindex="-1"></a>    <span class="at">fatal_events =</span> <span class="fu">sum</span>(fatal_event, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb17-12"><a href="#cb17-12" tabindex="-1"></a>    <span class="at">fatal_rate_per_race =</span> fatal_events <span class="sc">/</span> total_races,</span>
<span id="cb17-13"><a href="#cb17-13" tabindex="-1"></a>    <span class="at">fatal_rate_per_100_drivers =</span> fatal_events <span class="sc">/</span> unique_drivers <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb17-14"><a href="#cb17-14" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">&quot;drop&quot;</span></span>
<span id="cb17-15"><a href="#cb17-15" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb17-16"><a href="#cb17-16" tabindex="-1"></a>  <span class="fu">arrange</span>(decade)</span>
<span id="cb17-17"><a href="#cb17-17" tabindex="-1"></a></span>
<span id="cb17-18"><a href="#cb17-18" tabindex="-1"></a><span class="co"># Create decade trend visualization</span></span>
<span id="cb17-19"><a href="#cb17-19" tabindex="-1"></a>decade_safety_evolution <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(safety_by_decade) <span class="sc">+</span></span>
<span id="cb17-20"><a href="#cb17-20" tabindex="-1"></a>  <span class="co"># Bar chart for total races</span></span>
<span id="cb17-21"><a href="#cb17-21" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">x =</span> decade, <span class="at">y =</span> total_races, <span class="at">fill =</span> <span class="st">&quot;Total Races&quot;</span>), <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb17-22"><a href="#cb17-22" tabindex="-1"></a>  <span class="co"># Line chart for fatality rate</span></span>
<span id="cb17-23"><a href="#cb17-23" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x =</span> decade, <span class="at">y =</span> fatal_rate_per_100_drivers <span class="sc">*</span> <span class="dv">5</span>, <span class="at">group =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">&quot;Fatality Rate&quot;</span>), </span>
<span id="cb17-24"><a href="#cb17-24" tabindex="-1"></a>            <span class="at">size =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb17-25"><a href="#cb17-25" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> decade, <span class="at">y =</span> fatal_rate_per_100_drivers <span class="sc">*</span> <span class="dv">5</span>), </span>
<span id="cb17-26"><a href="#cb17-26" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">&quot;red&quot;</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb17-27"><a href="#cb17-27" tabindex="-1"></a>  <span class="co"># Add text labels for fatality rate</span></span>
<span id="cb17-28"><a href="#cb17-28" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">x =</span> decade, <span class="at">y =</span> fatal_rate_per_100_drivers <span class="sc">*</span> <span class="dv">5</span> <span class="sc">+</span> <span class="dv">2</span>, </span>
<span id="cb17-29"><a href="#cb17-29" tabindex="-1"></a>                <span class="at">label =</span> <span class="fu">sprintf</span>(<span class="st">&quot;%.2f&quot;</span>, fatal_rate_per_100_drivers)),</span>
<span id="cb17-30"><a href="#cb17-30" tabindex="-1"></a>            <span class="at">color =</span> <span class="st">&quot;red&quot;</span>, <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb17-31"><a href="#cb17-31" tabindex="-1"></a>  <span class="co"># Styling</span></span>
<span id="cb17-32"><a href="#cb17-32" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;Total Races&quot;</span> <span class="ot">=</span> <span class="st">&quot;blue&quot;</span>)) <span class="sc">+</span></span>
<span id="cb17-33"><a href="#cb17-33" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;Fatality Rate&quot;</span> <span class="ot">=</span> <span class="st">&quot;red&quot;</span>)) <span class="sc">+</span></span>
<span id="cb17-34"><a href="#cb17-34" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(</span>
<span id="cb17-35"><a href="#cb17-35" tabindex="-1"></a>    <span class="at">name =</span> <span class="st">&quot;Number of Races&quot;</span>,</span>
<span id="cb17-36"><a href="#cb17-36" tabindex="-1"></a>    <span class="at">sec.axis =</span> <span class="fu">sec_axis</span>(<span class="sc">~</span>.<span class="sc">/</span><span class="dv">5</span>, <span class="at">name =</span> <span class="st">&quot;Fatal Events per 100 Drivers&quot;</span>)</span>
<span id="cb17-37"><a href="#cb17-37" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb17-38"><a href="#cb17-38" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb17-39"><a href="#cb17-39" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Formula 1 Safety Evolution by Decade&quot;</span>,</span>
<span id="cb17-40"><a href="#cb17-40" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;Number of races vs. driver fatality rate&quot;</span>,</span>
<span id="cb17-41"><a href="#cb17-41" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Decade&quot;</span></span>
<span id="cb17-42"><a href="#cb17-42" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb17-43"><a href="#cb17-43" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb17-44"><a href="#cb17-44" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb17-45"><a href="#cb17-45" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">14</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>),</span>
<span id="cb17-46"><a href="#cb17-46" tabindex="-1"></a>    <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb17-47"><a href="#cb17-47" tabindex="-1"></a>    <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">&quot;blue&quot;</span>),</span>
<span id="cb17-48"><a href="#cb17-48" tabindex="-1"></a>    <span class="at">axis.title.y.right =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">&quot;red&quot;</span>),</span>
<span id="cb17-49"><a href="#cb17-49" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span>,</span>
<span id="cb17-50"><a href="#cb17-50" tabindex="-1"></a>    <span class="at">legend.title =</span> <span class="fu">element_blank</span>()</span>
<span id="cb17-51"><a href="#cb17-51" tabindex="-1"></a>  )</span>
<span id="cb17-52"><a href="#cb17-52" tabindex="-1"></a></span>
<span id="cb17-53"><a href="#cb17-53" tabindex="-1"></a><span class="co"># Display the plot</span></span>
<span id="cb17-54"><a href="#cb17-54" tabindex="-1"></a>decade_safety_evolution</span></code></pre></div>
<p><img src="step2_EDAVIZ_files/figure-html/decade-safety-evolution-1.png" width="960" /></p>
<p><strong>Key Insights:</strong></p>
<ul>
<li>The fatality rate has decreased dramatically from the 1950s to the
present day, with the most significant safety improvements occurring
between the 1970s and 1980s.</li>
<li>There’s a clear inverse relationship between the number of races
(blue bars) and fatality rates (red line).</li>
<li>Recent decades have maintained low fatality rates despite hosting
significantly more races.</li>
</ul>
</div>
<div id="circuit-risk-analysis" class="section level2">
<h2>8. Circuit Risk Analysis</h2>
<p>This visualization examines the relationship between race frequency,
driver exposure, and fatal events at different circuits.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="co"># Circuit danger analysis</span></span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a>circuit_risk_analysis <span class="ot">&lt;-</span> dataOK <span class="sc">%&gt;%</span></span>
<span id="cb18-3"><a href="#cb18-3" tabindex="-1"></a>  <span class="fu">group_by</span>(circuit.name, circuit.country) <span class="sc">%&gt;%</span></span>
<span id="cb18-4"><a href="#cb18-4" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb18-5"><a href="#cb18-5" tabindex="-1"></a>    <span class="at">races_held =</span> <span class="fu">n_distinct</span>(Race),</span>
<span id="cb18-6"><a href="#cb18-6" tabindex="-1"></a>    <span class="at">unique_drivers =</span> <span class="fu">n_distinct</span>(driver.name),</span>
<span id="cb18-7"><a href="#cb18-7" tabindex="-1"></a>    <span class="at">fatal_events =</span> <span class="fu">sum</span>(driver.fatal <span class="sc">==</span> <span class="st">&quot;Death&quot;</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb18-8"><a href="#cb18-8" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">&quot;drop&quot;</span></span>
<span id="cb18-9"><a href="#cb18-9" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb18-10"><a href="#cb18-10" tabindex="-1"></a>  <span class="co"># Calculate danger metrics</span></span>
<span id="cb18-11"><a href="#cb18-11" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb18-12"><a href="#cb18-12" tabindex="-1"></a>    <span class="at">fatality_rate =</span> fatal_events <span class="sc">/</span> races_held,</span>
<span id="cb18-13"><a href="#cb18-13" tabindex="-1"></a>    <span class="at">danger_index =</span> (fatal_events <span class="sc">/</span> unique_drivers) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb18-14"><a href="#cb18-14" tabindex="-1"></a>    <span class="at">danger_category =</span> <span class="fu">case_when</span>(</span>
<span id="cb18-15"><a href="#cb18-15" tabindex="-1"></a>      fatal_events <span class="sc">==</span> <span class="dv">0</span> <span class="sc">~</span> <span class="st">&quot;Safe&quot;</span>,</span>
<span id="cb18-16"><a href="#cb18-16" tabindex="-1"></a>      danger_index <span class="sc">&lt;=</span> <span class="dv">1</span> <span class="sc">~</span> <span class="st">&quot;Low Risk&quot;</span>,</span>
<span id="cb18-17"><a href="#cb18-17" tabindex="-1"></a>      danger_index <span class="sc">&lt;=</span> <span class="dv">3</span> <span class="sc">~</span> <span class="st">&quot;Medium Risk&quot;</span>,</span>
<span id="cb18-18"><a href="#cb18-18" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">&quot;High Risk&quot;</span></span>
<span id="cb18-19"><a href="#cb18-19" tabindex="-1"></a>    )</span>
<span id="cb18-20"><a href="#cb18-20" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb18-21"><a href="#cb18-21" tabindex="-1"></a>  <span class="co"># Filter to circuits with at least 5 races for statistical significance</span></span>
<span id="cb18-22"><a href="#cb18-22" tabindex="-1"></a>  <span class="fu">filter</span>(races_held <span class="sc">&gt;=</span> <span class="dv">5</span>) <span class="sc">%&gt;%</span></span>
<span id="cb18-23"><a href="#cb18-23" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(danger_index))</span>
<span id="cb18-24"><a href="#cb18-24" tabindex="-1"></a></span>
<span id="cb18-25"><a href="#cb18-25" tabindex="-1"></a><span class="co"># Create a scatter plot of exposure vs danger</span></span>
<span id="cb18-26"><a href="#cb18-26" tabindex="-1"></a>circuit_risk_chart <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(circuit_risk_analysis, <span class="fu">aes</span>(<span class="at">x =</span> races_held, <span class="at">y =</span> unique_drivers)) <span class="sc">+</span></span>
<span id="cb18-27"><a href="#cb18-27" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> fatal_events, <span class="at">color =</span> danger_category), <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb18-28"><a href="#cb18-28" tabindex="-1"></a>  <span class="fu">geom_text_repel</span>(</span>
<span id="cb18-29"><a href="#cb18-29" tabindex="-1"></a>    <span class="at">data =</span> <span class="fu">filter</span>(circuit_risk_analysis, fatal_events <span class="sc">&gt;</span> <span class="dv">0</span>),</span>
<span id="cb18-30"><a href="#cb18-30" tabindex="-1"></a>    <span class="fu">aes</span>(<span class="at">label =</span> circuit.name),</span>
<span id="cb18-31"><a href="#cb18-31" tabindex="-1"></a>    <span class="at">size =</span> <span class="dv">3</span>,</span>
<span id="cb18-32"><a href="#cb18-32" tabindex="-1"></a>    <span class="at">box.padding =</span> <span class="fl">0.5</span>,</span>
<span id="cb18-33"><a href="#cb18-33" tabindex="-1"></a>    <span class="at">force =</span> <span class="dv">3</span></span>
<span id="cb18-34"><a href="#cb18-34" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb18-35"><a href="#cb18-35" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(</span>
<span id="cb18-36"><a href="#cb18-36" tabindex="-1"></a>    <span class="st">&quot;Safe&quot;</span> <span class="ot">=</span> <span class="st">&quot;blue&quot;</span>, </span>
<span id="cb18-37"><a href="#cb18-37" tabindex="-1"></a>    <span class="st">&quot;Low Risk&quot;</span> <span class="ot">=</span> <span class="st">&quot;#8ecae6&quot;</span>,</span>
<span id="cb18-38"><a href="#cb18-38" tabindex="-1"></a>    <span class="st">&quot;Medium Risk&quot;</span> <span class="ot">=</span> <span class="st">&quot;#ffb703&quot;</span>,</span>
<span id="cb18-39"><a href="#cb18-39" tabindex="-1"></a>    <span class="st">&quot;High Risk&quot;</span> <span class="ot">=</span> <span class="st">&quot;red&quot;</span></span>
<span id="cb18-40"><a href="#cb18-40" tabindex="-1"></a>  )) <span class="sc">+</span></span>
<span id="cb18-41"><a href="#cb18-41" tabindex="-1"></a>  <span class="fu">scale_size_continuous</span>(<span class="at">range =</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">10</span>), <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)) <span class="sc">+</span></span>
<span id="cb18-42"><a href="#cb18-42" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb18-43"><a href="#cb18-43" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Formula 1 Circuit Safety Analysis&quot;</span>,</span>
<span id="cb18-44"><a href="#cb18-44" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;Driver exposure vs. fatal events (circuits with 5+ races)&quot;</span>,</span>
<span id="cb18-45"><a href="#cb18-45" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Number of Races Held&quot;</span>,</span>
<span id="cb18-46"><a href="#cb18-46" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Number of Unique Drivers&quot;</span>,</span>
<span id="cb18-47"><a href="#cb18-47" tabindex="-1"></a>    <span class="at">color =</span> <span class="st">&quot;Risk Category&quot;</span>,</span>
<span id="cb18-48"><a href="#cb18-48" tabindex="-1"></a>    <span class="at">size =</span> <span class="st">&quot;Fatal Events&quot;</span></span>
<span id="cb18-49"><a href="#cb18-49" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb18-50"><a href="#cb18-50" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb18-51"><a href="#cb18-51" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb18-52"><a href="#cb18-52" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">14</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>),</span>
<span id="cb18-53"><a href="#cb18-53" tabindex="-1"></a>    <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb18-54"><a href="#cb18-54" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">&quot;right&quot;</span></span>
<span id="cb18-55"><a href="#cb18-55" tabindex="-1"></a>  )</span>
<span id="cb18-56"><a href="#cb18-56" tabindex="-1"></a></span>
<span id="cb18-57"><a href="#cb18-57" tabindex="-1"></a><span class="co"># Display the plot</span></span>
<span id="cb18-58"><a href="#cb18-58" tabindex="-1"></a>circuit_risk_chart</span></code></pre></div>
<p><img src="step2_EDAVIZ_files/figure-html/circuit-risk-analysis-1.png" width="960" /></p>
<p><strong>Key Insights:</strong></p>
<ul>
<li>Circuits with similar numbers of races can have dramatically
different safety records, suggesting inherent risk factors at certain
venues.</li>
<li>Several historic circuits (e.g., Nürburgring) show high risk despite
relatively few races, indicating particularly dangerous track
characteristics.</li>
<li>Many newer circuits fall into the “Safe” category (blue points),
reflecting modern safety standards.</li>
</ul>
</div>
<div id="monthly-pattern-analysis" class="section level2">
<h2>9. Monthly Pattern Analysis</h2>
<p>This visualization examines whether fatal events show any seasonal
patterns throughout the year.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="co"># Extract month information</span></span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a>monthly_race_data <span class="ot">&lt;-</span> dataOK <span class="sc">%&gt;%</span></span>
<span id="cb19-3"><a href="#cb19-3" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb19-4"><a href="#cb19-4" tabindex="-1"></a>    <span class="at">race_date =</span> <span class="fu">as.Date</span>(date),</span>
<span id="cb19-5"><a href="#cb19-5" tabindex="-1"></a>    <span class="at">month =</span> <span class="fu">factor</span>(<span class="fu">month</span>(race_date, <span class="at">label =</span> <span class="cn">TRUE</span>)),</span>
<span id="cb19-6"><a href="#cb19-6" tabindex="-1"></a>    <span class="at">fatal_event =</span> driver.fatal <span class="sc">==</span> <span class="st">&quot;Death&quot;</span></span>
<span id="cb19-7"><a href="#cb19-7" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb19-8"><a href="#cb19-8" tabindex="-1"></a>  <span class="co"># Calculate race identifier</span></span>
<span id="cb19-9"><a href="#cb19-9" tabindex="-1"></a>  <span class="fu">group_by</span>(year, Race) <span class="sc">%&gt;%</span></span>
<span id="cb19-10"><a href="#cb19-10" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb19-11"><a href="#cb19-11" tabindex="-1"></a>    <span class="at">race_id =</span> <span class="fu">cur_group_id</span>()</span>
<span id="cb19-12"><a href="#cb19-12" tabindex="-1"></a>  )</span>
<span id="cb19-13"><a href="#cb19-13" tabindex="-1"></a></span>
<span id="cb19-14"><a href="#cb19-14" tabindex="-1"></a><span class="co"># Analyze by month</span></span>
<span id="cb19-15"><a href="#cb19-15" tabindex="-1"></a>monthly_summary <span class="ot">&lt;-</span> monthly_race_data <span class="sc">%&gt;%</span></span>
<span id="cb19-16"><a href="#cb19-16" tabindex="-1"></a>  <span class="fu">group_by</span>(month) <span class="sc">%&gt;%</span></span>
<span id="cb19-17"><a href="#cb19-17" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb19-18"><a href="#cb19-18" tabindex="-1"></a>    <span class="at">total_races =</span> <span class="fu">n_distinct</span>(race_id),</span>
<span id="cb19-19"><a href="#cb19-19" tabindex="-1"></a>    <span class="at">fatal_events =</span> <span class="fu">sum</span>(fatal_event, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb19-20"><a href="#cb19-20" tabindex="-1"></a>    <span class="at">fatal_rate =</span> fatal_events <span class="sc">/</span> total_races,</span>
<span id="cb19-21"><a href="#cb19-21" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">&quot;drop&quot;</span></span>
<span id="cb19-22"><a href="#cb19-22" tabindex="-1"></a>  )</span>
<span id="cb19-23"><a href="#cb19-23" tabindex="-1"></a></span>
<span id="cb19-24"><a href="#cb19-24" tabindex="-1"></a><span class="co"># Create month visualization</span></span>
<span id="cb19-25"><a href="#cb19-25" tabindex="-1"></a>monthly_fatality_chart <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(monthly_summary) <span class="sc">+</span></span>
<span id="cb19-26"><a href="#cb19-26" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="fu">aes</span>(<span class="at">x =</span> month, <span class="at">y =</span> total_races, <span class="at">fill =</span> <span class="st">&quot;Total Races&quot;</span>), <span class="at">alpha =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb19-27"><a href="#cb19-27" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">x =</span> month, <span class="at">y =</span> fatal_events <span class="sc">*</span> <span class="dv">10</span>, <span class="at">group =</span> <span class="dv">1</span>, <span class="at">color =</span> <span class="st">&quot;Fatal Events&quot;</span>), </span>
<span id="cb19-28"><a href="#cb19-28" tabindex="-1"></a>            <span class="at">size =</span> <span class="fl">1.2</span>) <span class="sc">+</span></span>
<span id="cb19-29"><a href="#cb19-29" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> month, <span class="at">y =</span> fatal_events <span class="sc">*</span> <span class="dv">10</span>), </span>
<span id="cb19-30"><a href="#cb19-30" tabindex="-1"></a>             <span class="at">color =</span> <span class="st">&quot;red&quot;</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb19-31"><a href="#cb19-31" tabindex="-1"></a>  <span class="co"># Add text for fatal events</span></span>
<span id="cb19-32"><a href="#cb19-32" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">x =</span> month, <span class="at">y =</span> fatal_events <span class="sc">*</span> <span class="dv">10</span> <span class="sc">+</span> <span class="dv">1</span>, <span class="at">label =</span> fatal_events),</span>
<span id="cb19-33"><a href="#cb19-33" tabindex="-1"></a>            <span class="at">color =</span> <span class="st">&quot;red&quot;</span>, <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb19-34"><a href="#cb19-34" tabindex="-1"></a>  <span class="co"># Styling</span></span>
<span id="cb19-35"><a href="#cb19-35" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;Total Races&quot;</span> <span class="ot">=</span> <span class="st">&quot;blue&quot;</span>)) <span class="sc">+</span></span>
<span id="cb19-36"><a href="#cb19-36" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;Fatal Events&quot;</span> <span class="ot">=</span> <span class="st">&quot;red&quot;</span>)) <span class="sc">+</span></span>
<span id="cb19-37"><a href="#cb19-37" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(</span>
<span id="cb19-38"><a href="#cb19-38" tabindex="-1"></a>    <span class="at">name =</span> <span class="st">&quot;Number of Races&quot;</span>,</span>
<span id="cb19-39"><a href="#cb19-39" tabindex="-1"></a>    <span class="at">sec.axis =</span> <span class="fu">sec_axis</span>(<span class="sc">~</span>.<span class="sc">/</span><span class="dv">10</span>, <span class="at">name =</span> <span class="st">&quot;Number of Fatal Events&quot;</span>)</span>
<span id="cb19-40"><a href="#cb19-40" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb19-41"><a href="#cb19-41" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb19-42"><a href="#cb19-42" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Formula 1 Fatal Events by Month&quot;</span>,</span>
<span id="cb19-43"><a href="#cb19-43" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;Distribution of races and fatal events across calendar months&quot;</span>,</span>
<span id="cb19-44"><a href="#cb19-44" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Month&quot;</span></span>
<span id="cb19-45"><a href="#cb19-45" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb19-46"><a href="#cb19-46" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb19-47"><a href="#cb19-47" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb19-48"><a href="#cb19-48" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">14</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>),</span>
<span id="cb19-49"><a href="#cb19-49" tabindex="-1"></a>    <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb19-50"><a href="#cb19-50" tabindex="-1"></a>    <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">&quot;blue&quot;</span>),</span>
<span id="cb19-51"><a href="#cb19-51" tabindex="-1"></a>    <span class="at">axis.title.y.right =</span> <span class="fu">element_text</span>(<span class="at">color =</span> <span class="st">&quot;red&quot;</span>),</span>
<span id="cb19-52"><a href="#cb19-52" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span>,</span>
<span id="cb19-53"><a href="#cb19-53" tabindex="-1"></a>    <span class="at">legend.title =</span> <span class="fu">element_blank</span>()</span>
<span id="cb19-54"><a href="#cb19-54" tabindex="-1"></a>  )</span>
<span id="cb19-55"><a href="#cb19-55" tabindex="-1"></a></span>
<span id="cb19-56"><a href="#cb19-56" tabindex="-1"></a><span class="co"># Display the chart</span></span>
<span id="cb19-57"><a href="#cb19-57" tabindex="-1"></a>monthly_fatality_chart</span></code></pre></div>
<p><img src="step2_EDAVIZ_files/figure-html/monthly-pattern-1.png" width="960" /></p>
<p><strong>Key Insights:</strong></p>
<ul>
<li>Racing frequency varies by month, with peaks in traditional F1
season months.</li>
<li>Some months (e.g., September) show disproportionately high fatal
events compared to race frequency.</li>
<li>The pattern may reflect different weather conditions, circuit
characteristics, or seasonal factors affecting safety.</li>
</ul>
</div>
<div id="conclusion" class="section level2">
<h2>10. Conclusion</h2>
<p>Our visual exploration of Formula 1 fatal events from 1950 to 2024
reveals several important patterns:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Temporal trends</strong>: Fatal incidents have decreased
dramatically over time, particularly since the 1980s, despite increased
race frequency and driver participation.</p></li>
<li><p><strong>Driver factors</strong>: Age and experience show complex
relationships with fatal event risk, with rookie drivers facing higher
risks.</p></li>
<li><p><strong>Circuit characteristics</strong>: Historic European
circuits generally show higher fatality rates than newer facilities,
suggesting safety improvements in modern circuit design.</p></li>
<li><p><strong>Team/constructor patterns</strong>: Fatal events aren’t
evenly distributed across teams, with some constructors having
disproportionately high fatality rates.</p></li>
<li><p><strong>Geographic patterns</strong>: Fatal events show regional
clustering, with certain parts of Europe having historically higher-risk
circuits.</p></li>
</ol>
<p>These visualizations highlight the multifaceted nature of safety in
Formula 1, demonstrating how improvements in regulations, car design,
circuit safety, and driver training have collectively contributed to
making the sport significantly safer over its 75-year history.</p>
</div>
</div>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
